{"version":3,"file":"Input.js","sources":["../../src/input/Input.tsx"],"sourcesContent":["import React, { useState, useRef, useImperativeHandle, useEffect } from 'react';\nimport classNames from 'classnames';\nimport { CloseCircleFilledIcon, BrowseOffIcon, BrowseIcon } from 'tdesign-icons-react';\nimport isFunction from 'lodash/isFunction';\nimport forwardRefWithStatics from '../_util/forwardRefWithStatics';\nimport useConfig from '../_util/useConfig';\nimport { getCharacterLength } from '../_util/helper';\nimport { TdInputProps } from './type';\nimport { StyledProps, TNode } from '../common';\nimport InputGroup from './InputGroup';\nimport useControlled from '../hooks/useControlled';\nimport { useLocaleReceiver } from '../locale/LocalReceiver';\nimport { inputDefaultProps } from './defaultProps';\n\nexport interface InputProps extends TdInputProps, StyledProps {}\n\nexport interface InputRefInterface extends React.RefObject<unknown> {\n  currentElement: HTMLDivElement;\n  inputElement: HTMLInputElement;\n  focus: () => void;\n  blur: () => void;\n  select: () => void;\n}\n\nconst renderIcon = (classPrefix: string, type: 'prefix' | 'suffix', icon: TNode) => {\n  let result: React.ReactNode = null;\n\n  if (icon) result = icon;\n\n  if (typeof icon === 'function') result = icon();\n\n  const iconClassName = icon ? `${classPrefix}-input__${type}-icon` : '';\n\n  if (result) {\n    result = <span className={`${classPrefix}-input__${type} ${iconClassName}`}>{result}</span>;\n  }\n\n  return result;\n};\n\nconst Input = forwardRefWithStatics(\n  (props: InputProps, ref) => {\n    // 国际化文本初始化\n    const [local, t] = useLocaleReceiver('input');\n    const {\n      type,\n      autoWidth,\n      placeholder = t(local.placeholder),\n      disabled,\n      status,\n      size,\n      className,\n      inputClass,\n      style,\n      prefixIcon,\n      suffixIcon,\n      clearable,\n      tips,\n      align,\n      maxlength,\n      maxcharacter,\n      showClearIconOnEmpty,\n      autofocus,\n      autocomplete,\n      readonly,\n      label,\n      suffix,\n      format,\n      onClick,\n      onClear,\n      onEnter,\n      onKeydown,\n      onKeyup,\n      onKeypress,\n      onFocus,\n      onBlur,\n      onPaste,\n      onMouseenter,\n      onMouseleave,\n      onWheel,\n      onCompositionstart,\n      onCompositionend,\n      onChange: onChangeFromProps,\n      ...restProps\n    } = props;\n\n    const [value, onChange] = useControlled(props, 'value', onChangeFromProps);\n\n    const { classPrefix } = useConfig();\n    const composingRef = useRef(false);\n    const inputRef: React.RefObject<HTMLInputElement> = useRef();\n    // inputPreRef 用于预存输入框宽度，应用在 auto width 模式中\n    const inputPreRef: React.RefObject<HTMLInputElement> = useRef();\n    const wrapperRef: React.RefObject<HTMLDivElement> = useRef();\n    const [isHover, toggleIsHover] = useState(false);\n    const [isFocused, toggleIsFocused] = useState(false);\n    const [renderType, setRenderType] = useState(type);\n\n    const [composingRefValue, setComposingValue] = useState<string>('');\n    const isShowClearIcon = ((clearable && value && !disabled) || showClearIconOnEmpty) && isHover;\n\n    const prefixIconContent = renderIcon(classPrefix, 'prefix', prefixIcon);\n    let suffixIconNew = suffixIcon;\n\n    if (isShowClearIcon)\n      suffixIconNew = <CloseCircleFilledIcon className={`${classPrefix}-input__suffix-clear`} onClick={handleClear} />;\n    if (type === 'password' && typeof suffixIcon === 'undefined') {\n      if (renderType === 'password') {\n        suffixIconNew = (\n          <BrowseOffIcon className={`${classPrefix}-input__suffix-clear`} onClick={togglePasswordVisible} />\n        );\n      } else if (renderType === 'text') {\n        suffixIconNew = <BrowseIcon className={`${classPrefix}-input__suffix-clear`} onClick={togglePasswordVisible} />;\n      }\n    }\n\n    const suffixIconContent = renderIcon(classPrefix, 'suffix', suffixIconNew);\n    const labelContent = isFunction(label) ? label() : label;\n    const suffixContent = isFunction(suffix) ? suffix() : suffix;\n\n    useEffect(() => {\n      if (!autoWidth) return;\n      inputRef.current.style.width = `${inputPreRef.current.offsetWidth}px`;\n    }, [autoWidth, value, placeholder]);\n\n    useEffect(() => {\n      setRenderType(type);\n    }, [type]);\n\n    const renderInput = (\n      <input\n        ref={inputRef}\n        placeholder={placeholder}\n        type={renderType}\n        className={`${classPrefix}-input__inner`}\n        value={composingRef.current ? composingRefValue : value ?? ''}\n        readOnly={readonly}\n        disabled={disabled}\n        autoComplete={autocomplete}\n        autoFocus={autofocus}\n        maxLength={maxlength}\n        onChange={handleChange}\n        onKeyDown={handleKeyDown}\n        onKeyUp={handleKeyUp}\n        onKeyPress={handleKeyPress}\n        onCompositionStart={handleCompositionStart}\n        onCompositionEnd={handleCompositionEnd}\n        onFocus={handleFocus}\n        onBlur={handleBlur}\n        onPaste={handlePaste}\n      />\n    );\n\n    const renderInputNode = (\n      <div\n        className={classNames(inputClass, `${classPrefix}-input`, {\n          [`${classPrefix}-is-readonly`]: readonly,\n          [`${classPrefix}-is-disabled`]: disabled,\n          [`${classPrefix}-is-focused`]: isFocused,\n          [`${classPrefix}-size-s`]: size === 'small',\n          [`${classPrefix}-size-l`]: size === 'large',\n          [`${classPrefix}-size-m`]: size === 'medium',\n          [`${classPrefix}-align-${align}`]: align,\n          [`${classPrefix}-is-${status}`]: status,\n          [`${classPrefix}-input--prefix`]: prefixIcon || labelContent,\n          [`${classPrefix}-input--suffix`]: suffixIconContent || suffixContent,\n          [`${classPrefix}-input--focused`]: isFocused,\n        })}\n        onMouseEnter={handleMouseEnter}\n        onMouseLeave={handleMouseLeave}\n        onWheel={handleWheel}\n        onClick={(e) => onClick?.({ e })}\n      >\n        {prefixIconContent}\n        {labelContent ? <div className={`${classPrefix}-input__prefix`}>{labelContent}</div> : null}\n        {renderInput}\n        {autoWidth && (\n          <span ref={inputPreRef} className={`${classPrefix}-input__input-pre`}>\n            {value || props.placeholder}\n          </span>\n        )}\n        {suffixContent ? <div className={`${classPrefix}-input__suffix`}>{suffixContent}</div> : null}\n        {suffixIconContent}\n      </div>\n    );\n\n    function togglePasswordVisible() {\n      const toggleType = renderType === 'password' ? 'text' : 'password';\n      setRenderType(toggleType);\n    }\n\n    function handleChange(e: React.ChangeEvent<HTMLInputElement> | React.CompositionEvent<HTMLInputElement>) {\n      let { value } = e.currentTarget;\n      if (composingRef.current) {\n        setComposingValue(value);\n      } else {\n        if (typeof maxcharacter === 'number' && maxcharacter >= 0) {\n          const stringInfo = getCharacterLength(value, maxcharacter);\n          value = typeof stringInfo === 'object' && stringInfo.characters;\n        }\n        onChange(value, { e });\n      }\n    }\n    function handleClear(e: React.MouseEvent<SVGSVGElement>) {\n      onChange?.('', { e });\n      onClear?.({ e });\n    }\n    function handleKeyDown(e: React.KeyboardEvent<HTMLInputElement>) {\n      const {\n        key,\n        currentTarget: { value },\n      } = e;\n      key === 'Enter' && onEnter?.(value, { e });\n      onKeydown?.(value, { e });\n    }\n    function handleKeyUp(e: React.KeyboardEvent<HTMLInputElement>) {\n      const {\n        currentTarget: { value },\n      } = e;\n      onKeyup?.(value, { e });\n    }\n    function handleKeyPress(e: React.KeyboardEvent<HTMLInputElement>) {\n      const {\n        currentTarget: { value },\n      } = e;\n      onKeypress?.(value, { e });\n    }\n    function handleCompositionStart(e: React.CompositionEvent<HTMLInputElement>) {\n      composingRef.current = true;\n      const {\n        currentTarget: { value },\n      } = e;\n      onCompositionstart?.(value, { e });\n    }\n    function handleCompositionEnd(e: React.CompositionEvent<HTMLInputElement>) {\n      const {\n        currentTarget: { value },\n      } = e;\n      if (composingRef.current) {\n        composingRef.current = false;\n        handleChange(e);\n      }\n      setComposingValue('');\n      onCompositionend?.(value, { e });\n    }\n\n    function handleFocus(e: React.FocusEvent<HTMLInputElement>) {\n      if (readonly) return;\n      const {\n        currentTarget: { value },\n      } = e;\n      onFocus?.(value, { e });\n      toggleIsFocused(true);\n    }\n\n    function handleBlur(e: React.FocusEvent<HTMLInputElement>) {\n      if (readonly) return;\n      const {\n        currentTarget: { value },\n      } = e;\n      format && onChange(format(value), { e });\n      onBlur?.(value, { e });\n      toggleIsFocused(false);\n    }\n\n    function handlePaste(e: React.ClipboardEvent<HTMLInputElement>) {\n      const clipData = e.clipboardData;\n      const pasteValue = clipData?.getData('text/plain');\n      onPaste?.({ e, pasteValue });\n    }\n\n    function handleMouseEnter(e: React.MouseEvent<HTMLDivElement>) {\n      toggleIsHover(true);\n      onMouseenter?.({ e });\n    }\n\n    function handleMouseLeave(e: React.MouseEvent<HTMLDivElement>) {\n      toggleIsHover(false);\n      onMouseleave?.({ e });\n    }\n\n    function handleWheel(e: React.WheelEvent<HTMLDivElement>) {\n      onWheel?.({ e });\n    }\n\n    useImperativeHandle(ref as InputRefInterface, () => ({\n      currentElement: wrapperRef.current,\n      inputElement: inputRef.current,\n      focus: () => inputRef.current?.focus(),\n      blur: () => inputRef.current?.blur(),\n      select: () => inputRef.current?.select(),\n    }));\n\n    return (\n      <div\n        ref={wrapperRef}\n        style={style}\n        className={classNames(className, `${classPrefix}-input__wrap`, {\n          [`${classPrefix}-input--auto-width`]: autoWidth,\n        })}\n        {...restProps}\n      >\n        {renderInputNode}\n        {tips && (\n          <div\n            className={classNames(`${classPrefix}-input__tips`, `${classPrefix}-input__tips--${status || 'normal'}`)}\n          >\n            {tips}\n          </div>\n        )}\n      </div>\n    );\n  },\n  { Group: InputGroup },\n);\n\nInput.displayName = 'Input';\nInput.defaultProps = inputDefaultProps;\n\nexport default Input;\n"],"names":["renderIcon","classPrefix","type","icon","result","iconClassName","React","createElement","className","Input","forwardRefWithStatics","props","ref","useLocaleReceiver","local","t","autoWidth","placeholder","disabled","status","size","inputClass","style","prefixIcon","suffixIcon","clearable","tips","align","maxlength","maxcharacter","showClearIconOnEmpty","autofocus","autocomplete","readonly","label","suffix","format","onClick","onClear","onEnter","onKeydown","onKeyup","onKeypress","onFocus","onBlur","onPaste","onMouseenter","onMouseleave","onWheel","onCompositionstart","onCompositionend","onChangeFromProps","onChange","restProps","useControlled","value","useConfig","composingRef","useRef","inputRef","inputPreRef","wrapperRef","useState","isHover","toggleIsHover","isFocused","toggleIsFocused","renderType","setRenderType","composingRefValue","setComposingValue","isShowClearIcon","prefixIconContent","suffixIconNew","CloseCircleFilledIcon","handleClear","BrowseOffIcon","togglePasswordVisible","BrowseIcon","suffixIconContent","labelContent","isFunction","suffixContent","useEffect","current","width","offsetWidth","renderInput","readOnly","autoComplete","autoFocus","maxLength","handleChange","onKeyDown","handleKeyDown","onKeyUp","handleKeyUp","onKeyPress","handleKeyPress","onCompositionStart","handleCompositionStart","onCompositionEnd","handleCompositionEnd","handleFocus","handleBlur","handlePaste","renderInputNode","classNames","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","handleWheel","e","toggleType","value2","currentTarget","stringInfo","getCharacterLength","characters","key","clipData","clipboardData","pasteValue","getData","useImperativeHandle","currentElement","inputElement","focus","blur","select","Group","InputGroup","displayName","defaultProps","inputDefaultProps"],"mappings":"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"}