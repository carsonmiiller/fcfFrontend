{"version":3,"file":"TabNavItem.js","sources":["../../src/tabs/TabNavItem.tsx"],"sourcesContent":["import React, { MouseEvent, useRef } from 'react';\nimport classNames from 'classnames';\nimport { CloseIcon } from 'tdesign-icons-react';\nimport useRipple from '../_util/useRipple';\nimport { TdTabPanelProps, TdTabsProps } from './type';\nimport noop from '../_util/noop';\nimport { useTabClass } from './useTabClass';\n\nexport interface TabNavItemProps extends TdTabPanelProps {\n  // 当前 item 是否处于激活态\n  isActive: boolean;\n  // 点击事件\n  onClick: (e: MouseEvent) => void;\n  theme: 'normal' | 'card';\n  placement: string;\n  size?: 'medium' | 'large';\n  index: number;\n  innerRef(ref: HTMLElement): void;\n  onTabRemove: TdTabsProps['onRemove'];\n}\n\nconst TabNavItem: React.FC<TabNavItemProps> = (props) => {\n  const {\n    label,\n    removable,\n    isActive,\n    onClick = noop,\n    theme,\n    placement,\n    onRemove = noop,\n    value,\n    size = 'medium',\n    disabled = false,\n    index,\n    onTabRemove = noop,\n    innerRef,\n  } = props;\n\n  const isCard = theme === 'card';\n\n  // 样式变量和常量定义\n  const { tdTabsClassGenerator, tdClassGenerator, tdSizeClassGenerator } = useTabClass();\n  const rippleRef = useRef();\n  useRipple(rippleRef);\n\n  return (\n    <div\n      ref={innerRef}\n      onClick={disabled ? noop : onClick}\n      className={classNames(\n        tdTabsClassGenerator('nav-item'),\n        isCard ? tdTabsClassGenerator('nav--card') : '',\n        tdSizeClassGenerator(size),\n        isActive ? tdClassGenerator('is-active') : '',\n        tdClassGenerator(`is-${placement}`),\n        disabled ? tdClassGenerator('is-disabled') : '',\n      )}\n    >\n      {/* 根据新的 dom 结构和样式进行改动，卡片类型情况下不需要 nav-item-wrapper 这个 div */}\n      {isCard ? (\n        <span className={classNames(tdTabsClassGenerator('nav-item-text-wrapper'))}>{label}</span>\n      ) : (\n        <div ref={rippleRef} className={classNames(tdTabsClassGenerator('nav-item-wrapper'))}>\n          <span className={classNames(tdTabsClassGenerator('nav-item-text-wrapper'))}>{label}</span>\n        </div>\n      )}\n      {removable ? (\n        <CloseIcon\n          className={classNames('remove-btn')}\n          onClick={(e) => {\n            if (disabled) {\n              return;\n            }\n            e.stopPropagation();\n            onRemove({ value, e });\n            onTabRemove({ value, e, index });\n          }}\n        />\n      ) : null}\n    </div>\n  );\n};\n\nexport default TabNavItem;\n"],"names":["TabNavItem","props","label","removable","isActive","onClick","noop","theme","placement","onRemove","value","size","disabled","index","onTabRemove","innerRef","isCard","useTabClass","tdTabsClassGenerator","tdClassGenerator","tdSizeClassGenerator","rippleRef","useRef","useRipple","React","createElement","ref","className","classNames","CloseIcon","e","stopPropagation"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA,IAAMA,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAW;AAC5B,EAAA,IACEC,KADF,GAcID,KAdJ,CACEC,KADF;AAAA,MAEEC,SAFF,GAcIF,KAdJ,CAEEE,SAFF;AAAA,MAGEC,QAHF,GAcIH,KAdJ,CAGEG,QAHF;MAcIH,cAAAA,GAAAA,KAdJ,CAIEI,OAJF;MAIEA,OAJF,+BAIYC,IAJZ,GAAA,cAAA;AAAA,MAKEC,KALF,GAcIN,KAdJ,CAKEM,KALF;AAAA,MAMEC,SANF,GAcIP,KAdJ,CAMEO,SANF;MAcIP,eAAAA,GAAAA,KAdJ,CAOEQ,QAPF;MAOEA,QAPF,gCAOaH,IAPb,GAAA,eAAA;AAAA,MAQEI,KARF,GAcIT,KAdJ,CAQES,KARF;MAcIT,WAAAA,GAAAA,KAdJ,CASEU,IATF;MASEA,IATF,4BASS,QATT,GAAA,WAAA;MAcIV,eAAAA,GAAAA,KAdJ,CAUEW,QAVF;MAUEA,QAVF,gCAUa,KAVb,GAAA,eAAA;AAAA,MAWEC,KAXF,GAcIZ,KAdJ,CAWEY,KAXF;MAcIZ,kBAAAA,GAAAA,KAdJ,CAYEa,WAZF;MAYEA,WAZF,mCAYgBR,IAZhB,GAAA,kBAAA;AAAA,MAaES,QAbF,GAcId,KAdJ,CAaEc,QAbF,CAAA;AAeA,EAAA,IAAMC,MAAM,GAAGT,KAAK,KAAK,MAAzB,CAAA;;AACA,EAAA,IAAA,YAAA,GAAyEU,WAAW,EAApF;MAAQC,oBAAR,gBAAQA,oBAAR;MAA8BC,gBAA9B,gBAA8BA,gBAA9B;MAAgDC,oBAAhD,gBAAgDA,oBAAhD,CAAA;;EACA,IAAMC,SAAS,GAAGC,MAAM,EAAxB,CAAA;EACAC,SAAS,CAACF,SAAD,CAAT,CAAA;AACA,EAAA,sBAAuBG,KAAK,CAACC,aAAN,CAAoB,KAApB,EAA2B;AAChDC,IAAAA,GAAG,EAAEX,QAD2C;AAEhDV,IAAAA,OAAO,EAAEO,QAAQ,GAAGN,IAAH,GAAUD,OAFqB;AAGhDsB,IAAAA,SAAS,EAAEC,UAAU,CAACV,oBAAoB,CAAC,UAAD,CAArB,EAAmCF,MAAM,GAAGE,oBAAoB,CAAC,WAAD,CAAvB,GAAuC,EAAhF,EAAoFE,oBAAoB,CAACT,IAAD,CAAxG,EAAgHP,QAAQ,GAAGe,gBAAgB,CAAC,WAAD,CAAnB,GAAmC,EAA3J,EAA+JA,gBAAgB,CAAA,KAAA,CAAA,MAAA,CAAOX,SAAP,CAA/K,CAAA,EAAoMI,QAAQ,GAAGO,gBAAgB,CAAC,aAAD,CAAnB,GAAqC,EAAjP,CAAA;GAHA,EAIpBH,MAAM,kBAAmBQ,KAAK,CAACC,aAAN,CAAoB,MAApB,EAA4B;AACtDE,IAAAA,SAAS,EAAEC,UAAU,CAACV,oBAAoB,CAAC,uBAAD,CAArB,CAAA;GADK,EAEzBhB,KAFyB,CAAnB,kBAEmBsB,KAAK,CAACC,aAAN,CAAoB,KAApB,EAA2B;AACrDC,IAAAA,GAAG,EAAEL,SADgD;AAErDM,IAAAA,SAAS,EAAEC,UAAU,CAACV,oBAAoB,CAAC,kBAAD,CAArB,CAAA;AAFgC,GAA3B,iBAGTM,KAAK,CAACC,aAAN,CAAoB,MAApB,EAA4B;AAC7CE,IAAAA,SAAS,EAAEC,UAAU,CAACV,oBAAoB,CAAC,uBAAD,CAArB,CAAA;AADwB,GAA5B,EAEhBhB,KAFgB,CAHS,CANL,EAWXC,SAAS,kBAAmBqB,KAAK,CAACC,aAAN,CAAoBI,SAApB,EAA+B;AACrEF,IAAAA,SAAS,EAAEC,UAAU,CAAC,YAAD,CADgD;IAErEvB,OAAO,EAAE,SAACyB,OAAAA,CAAAA,CAAD,EAAO;AACd,MAAA,IAAIlB,QAAJ,EAAc;AACZ,QAAA,OAAA;AACD,OAAA;;AACDkB,MAAAA,CAAC,CAACC,eAAF,EAAA,CAAA;AACAtB,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,KAAK,EAALA,KAAF;AAASoB,QAAAA,CAAC,EAADA,CAAAA;AAAT,OAAD,CAAR,CAAA;AACAhB,MAAAA,WAAW,CAAC;AAAEJ,QAAAA,KAAK,EAALA,KAAF;AAASoB,QAAAA,CAAC,EAADA,CAAT;AAAYjB,QAAAA,KAAK,EAALA,KAAAA;AAAZ,OAAD,CAAX,CAAA;AACD,KAAA;GATqC,CAAnB,GAUhB,IArBkB,CAAvB,CAAA;AAsBD;;;;"}