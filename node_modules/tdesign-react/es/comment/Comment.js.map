{"version":3,"file":"Comment.js","sources":["../../src/comment/Comment.tsx"],"sourcesContent":["import React, { forwardRef } from 'react';\nimport classNames from 'classnames';\nimport useConfig from '../_util/useConfig';\nimport { StyledProps } from '../common';\nimport { TdCommentProps } from './type';\nimport { commentDefaultProps } from './defaultProps';\n\nexport interface CommentProps extends TdCommentProps, StyledProps {}\n\nconst Comment = forwardRef((props: CommentProps, ref: React.Ref<HTMLDivElement>) => {\n  const { actions, author, avatar, content, datetime, reply, quote, className, style } = props;\n\n  const { classPrefix } = useConfig();\n\n  const avatarElement = avatar ? (\n    <div className={`${classPrefix}-comment__avatar`}>\n      {typeof avatar === 'string' ? (\n        <img src={avatar} alt=\"\" className={`${classPrefix}-comment__avatar-image`} />\n      ) : (\n        avatar\n      )}\n    </div>\n  ) : null;\n\n  const authorDatetimeContent = (author || datetime) && (\n    <div className={`${classPrefix}-comment__author`}>\n      {author && <span className={`${classPrefix}-comment__name`}>{author}</span>}\n      {datetime && <span className={`${classPrefix}-comment__time`}>{datetime}</span>}\n    </div>\n  );\n\n  const quoteElement = quote ? <div className={`${classPrefix}-comment__quote`}>{quote}</div> : null;\n\n  const actionsElement =\n    actions && actions.length ? (\n      <ul className={`${classPrefix}-comment__actions`}>\n        {actions.map((action, index) => (\n          <li key={`action-${index}`}>{action}</li>\n        ))}\n      </ul>\n    ) : null;\n\n  const contentElement = (\n    <div className={`${classPrefix}-comment__content`}>\n      {authorDatetimeContent}\n      <div className={`${classPrefix}-comment__detail`}>{content}</div>\n      {quoteElement}\n      {actionsElement}\n    </div>\n  );\n\n  const replyElement = reply ? <div className={classNames(`${classPrefix}-comment__reply`)}>{reply}</div> : null;\n\n  return (\n    <div ref={ref} style={style} className={classNames(className, [`${classPrefix}-comment`])}>\n      <div className={`${classPrefix}-comment__inner`}>\n        {avatarElement}\n        {contentElement}\n      </div>\n      {replyElement}\n    </div>\n  );\n});\n\nComment.displayName = 'Comment';\nComment.defaultProps = commentDefaultProps;\n\nexport default Comment;\n"],"names":["Comment","forwardRef","props","ref","actions","author","avatar","content","datetime","reply","quote","className","style","useConfig","classPrefix","avatarElement","React","createElement","src","alt","authorDatetimeContent","quoteElement","actionsElement","length","map","action","index","key","contentElement","replyElement","classNames","displayName","defaultProps","commentDefaultProps"],"mappings":"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"}