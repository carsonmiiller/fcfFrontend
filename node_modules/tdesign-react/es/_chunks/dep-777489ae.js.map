{"version":3,"file":"dep-777489ae.js","sources":["../../src/notification/NotificationList.tsx","../../src/notification/Notification.tsx"],"sourcesContent":["import React, { forwardRef, useImperativeHandle, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport useConfig from '../_util/useConfig';\nimport {\n  NotificationInfoOptions,\n  NotificationInstance,\n  NotificationPlacementList,\n  NotificationThemeList,\n  TdNotificationProps,\n} from './type';\nimport { Styles } from '../common';\nimport noop from '../_util/noop';\nimport NotificationComponent from './Notification';\n\ninterface NotificationListInstance extends TdNotificationProps {\n  push: (theme: NotificationThemeList, options: NotificationInfoOptions) => Promise<NotificationInstance>;\n  remove: (key: string) => void;\n  removeAll: () => void;\n}\n\ninterface NotificationListOpenOption extends NotificationInfoOptions {\n  id: string;\n  key: string;\n  theme: NotificationThemeList;\n  style: Styles;\n  ref: React.RefObject<NotificationInstance>;\n}\n\ninterface NotificationListProps {\n  attach: HTMLElement;\n  zIndex: number;\n  placement: NotificationPlacementList;\n}\n\nlet seed = 0;\n\nexport const listMap: Map<NotificationPlacementList, NotificationListInstance> = new Map();\n\nexport const NotificationRemoveContext = React.createContext<(key: string) => void>(noop);\n\nconst NotificationList = forwardRef<NotificationListInstance, NotificationListProps>((props, ref) => {\n  const { placement, zIndex } = props;\n  const { classPrefix } = useConfig();\n  const [list, setList] = useState<NotificationListOpenOption[]>([]);\n\n  const remove = (key: string) => {\n    setList((oldList) => {\n      const index = oldList.findIndex((item) => item.key === key);\n      if (index !== -1) {\n        const tempList = [...oldList];\n        tempList.splice(index, 1);\n        return [...tempList];\n      }\n      return oldList;\n    });\n  };\n\n  const calOffset = (offset: string | number) => {\n    if (!offset) return '16px';\n    return isNaN(Number(offset)) ? offset : `${offset}px`;\n  };\n\n  const push = (theme: NotificationThemeList, options: NotificationInfoOptions): Promise<NotificationInstance> => {\n    const key = String((seed += 1));\n    let style: React.CSSProperties = {\n      margin: '16px',\n    };\n    if (Array.isArray(options.offset)) {\n      const [horizontal, vertical] = [...options.offset];\n      const horizontalOffset = calOffset(horizontal);\n      const verticalOffset = calOffset(vertical);\n\n      style = {\n        marginTop: verticalOffset,\n        marginBottom: verticalOffset,\n        marginLeft: horizontalOffset,\n        marginRight: horizontalOffset,\n      };\n    }\n    const ref = React.createRef<NotificationInstance>();\n\n    setList((oldList) => [\n      ...oldList,\n      {\n        ...options,\n        key,\n        theme,\n        style,\n        ref,\n        id: key,\n      },\n    ]);\n\n    return Promise.resolve(ref.current);\n  };\n\n  const removeAll = () => {\n    setList([]);\n  };\n\n  useImperativeHandle(ref, () => ({\n    push,\n    remove,\n    removeAll,\n  }));\n\n  return (\n    <NotificationRemoveContext.Provider value={remove}>\n      <div className={`${classPrefix}-notification__show--${placement}`} style={{ zIndex }}>\n        {list.map((props) => {\n          const { onDurationEnd = noop, onCloseBtnClick = noop } = props;\n          return (\n            <NotificationComponent\n              ref={props.ref}\n              key={props.key}\n              {...props}\n              onDurationEnd={() => {\n                remove(props.key);\n                onDurationEnd();\n              }}\n              onCloseBtnClick={(e) => {\n                remove(props.key);\n                onCloseBtnClick(e);\n              }}\n            />\n          );\n        })}\n      </div>\n    </NotificationRemoveContext.Provider>\n  );\n});\n\nexport const fetchListInstance = (\n  placement: NotificationPlacementList,\n  attach: HTMLElement,\n  zIndex: number,\n): Promise<NotificationListInstance> =>\n  new Promise((resolve) => {\n    if (listMap.has(placement)) {\n      resolve(listMap.get(placement));\n    } else {\n      let hasExec = false;\n      ReactDOM.render(\n        <NotificationList\n          attach={attach}\n          placement={placement}\n          zIndex={Number(zIndex)}\n          ref={(instance) => {\n            if (!hasExec) {\n              hasExec = true;\n              listMap.set(placement, instance);\n              resolve(instance);\n            }\n          }}\n        />,\n        attach,\n      );\n    }\n  });\n","import React, { forwardRef, useContext } from 'react';\nimport classNames from 'classnames';\nimport { CheckCircleFilledIcon, CloseIcon, InfoCircleFilledIcon } from 'tdesign-icons-react';\nimport { NotificationRemoveContext } from './NotificationList';\nimport noop from '../_util/noop';\nimport useConfig from '../_util/useConfig';\n\nimport { NotificationInstance, TdNotificationProps } from './type';\nimport { Styles } from '../common';\nimport { notificationDefaultProps } from './defaultProps';\n\nexport interface NotificationProps extends TdNotificationProps {\n  style?: Styles;\n  id?: string;\n}\n\nexport const Notification = forwardRef<any, NotificationProps>((props, ref) => {\n  const {\n    title,\n    content,\n    theme,\n    icon,\n    closeBtn,\n    footer,\n    duration,\n    onCloseBtnClick = noop,\n    onDurationEnd = noop,\n    style,\n    id,\n  } = props;\n\n  const { classPrefix } = useConfig();\n\n  const remove = useContext(NotificationRemoveContext);\n  React.useImperativeHandle(ref as React.Ref<NotificationInstance>, () => ({ close: () => remove(id) }));\n\n  /* eslint-disable react-hooks/exhaustive-deps */\n  React.useEffect(() => {\n    let timer;\n    if (duration > 0) {\n      timer = setTimeout(() => {\n        clearTimeout(timer);\n        onDurationEnd();\n      }, duration);\n    }\n    return () => {\n      if (timer) clearTimeout(timer);\n    };\n  }, []);\n\n  const renderIcon = () => {\n    const IconWrapper = ({ children }) => <div className={`${classPrefix}-notification__icon`}>{children}</div>;\n\n    // 调整优先级，icon 优先级最高\n    if (React.isValidElement(icon)) {\n      return <IconWrapper>{icon}</IconWrapper>;\n    }\n\n    if (theme && theme === 'success') {\n      return (\n        <IconWrapper>\n          <CheckCircleFilledIcon className={`${classPrefix}-is-success`} />\n        </IconWrapper>\n      );\n    }\n    if (theme && ['info', 'warning', 'error'].indexOf(theme) >= 0) {\n      return (\n        <IconWrapper>\n          <InfoCircleFilledIcon className={`${classPrefix}-is-${theme}`} />\n        </IconWrapper>\n      );\n    }\n    return null;\n  };\n\n  return (\n    <div\n      className={classNames(`${classPrefix}-notification`, {\n        [`${classPrefix}-is-${theme}`]: theme,\n      })}\n      style={style}\n    >\n      {renderIcon()}\n      <div className={`${classPrefix}-notification__main`}>\n        <div className={`${classPrefix}-notification__title__wrap`}>\n          <span className={`${classPrefix}-notification__title`}>{title}</span>\n          {((): React.ReactNode => {\n            if (typeof closeBtn === 'boolean' && closeBtn) {\n              return (\n                <CloseIcon\n                  className={`${classPrefix}-icon-close`}\n                  onClick={(e) => {\n                    onCloseBtnClick({ e });\n                  }}\n                />\n              );\n            }\n            if (React.isValidElement(closeBtn)) {\n              return (\n                <div\n                  onClick={(e) => {\n                    onCloseBtnClick({ e });\n                  }}\n                >\n                  {closeBtn}\n                </div>\n              );\n            }\n            return null;\n          })()}\n        </div>\n        {((): React.ReactNode => {\n          if (typeof content === 'string') {\n            return <div className={`${classPrefix}-notification__content`}>{content}</div>;\n          }\n          if (React.isValidElement(content)) return content;\n          return null;\n        })()}\n        {React.isValidElement(footer) && <div className={`${classPrefix}-notification__detail`}>{footer}</div>}\n        {typeof footer === 'function' && <div className={`${classPrefix}-notification__detail`}>{footer()}</div>}\n      </div>\n    </div>\n  );\n});\n\nNotification.displayName = 'Notification';\nNotification.defaultProps = notificationDefaultProps;\n\nexport default Notification;\n"],"names":["seed","listMap","Map","NotificationRemoveContext","React","createContext","noop","NotificationList","forwardRef","props","ref","placement","zIndex","useConfig","classPrefix","useState","list","setList","remove","key","oldList","index","findIndex","item","tempList","splice","calOffset","offset","isNaN","Number","push","theme","options","String","style","margin","Array","isArray","horizontal","vertical","horizontalOffset","verticalOffset","marginTop","marginBottom","marginLeft","marginRight","ref2","createRef","id","Promise","resolve","current","removeAll","useImperativeHandle","createElement","Provider","value","className","map","props2","onDurationEnd","onCloseBtnClick","NotificationComponent","e","fetchListInstance","attach","has","get","hasExec","ReactDOM","render","instance","set","Notification","title","content","icon","closeBtn","footer","duration","useContext","close","useEffect","timer","setTimeout","clearTimeout","renderIcon","IconWrapper","children","isValidElement","CheckCircleFilledIcon","indexOf","InfoCircleFilledIcon","classNames","CloseIcon","onClick","displayName","defaultProps","notificationDefaultProps"],"mappings":"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"}