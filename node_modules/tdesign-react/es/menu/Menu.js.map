{"version":3,"file":"Menu.js","sources":["../../src/menu/Menu.tsx"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport useConfig from '../_util/useConfig';\nimport { StyledProps } from '../common';\nimport { TdMenuProps } from './type';\nimport forwardRefWithStatics from '../_util/forwardRefWithStatics';\nimport { MenuContext } from './MenuContext';\nimport { DEFAULT_MENU_WIDTH } from './_util/constant';\nimport useMenuContext from './hooks/useMenuContext';\nimport { menuDefaultProps } from './defaultProps';\n\nimport HeadMenu from './HeadMenu';\nimport SubMenu from './SubMenu';\nimport MenuItem from './MenuItem';\nimport MenuGroup from './MenuGroup';\n\nexport interface MenuProps extends TdMenuProps, StyledProps {\n  children?: React.ReactNode;\n}\n\nconst Menu = forwardRefWithStatics(\n  (props: MenuProps, ref) => {\n    const { className, width = DEFAULT_MENU_WIDTH, children, theme, logo, operations, style } = props;\n    const { classPrefix } = useConfig();\n    const { value } = useMenuContext({ ...props, children, mode: 'accordion' });\n\n    // 菜单宽度\n    const menuWidthArr = Array.isArray(width) ? width : [width, DEFAULT_MENU_WIDTH[1]];\n\n    const { collapsed } = value;\n\n    return (\n      <MenuContext.Provider value={value}>\n        <div\n          ref={ref}\n          className={classNames(className, `${classPrefix}-default-menu`, {\n            [`${classPrefix}-is-collapsed`]: collapsed,\n            [`${classPrefix}-menu--dark`]: theme === 'dark',\n          })}\n          style={{ width: collapsed ? menuWidthArr[1] : menuWidthArr[0], ...style }}\n        >\n          <div className={`${classPrefix}-default-menu__inner`}>\n            {logo && <div className={`${classPrefix}-menu__logo`}>{logo}</div>}\n            <ul className={classNames(`${classPrefix}-menu`, { [`${classPrefix}-menu--scroll`]: !collapsed })}>\n              {children}\n            </ul>\n            {operations && <div className={`${classPrefix}-menu__operations`}>{operations}</div>}\n          </div>\n        </div>\n      </MenuContext.Provider>\n    );\n  },\n  { HeadMenu, SubMenu, MenuItem, MenuGroup },\n);\n\nMenu.displayName = 'Menu';\nMenu.defaultProps = menuDefaultProps;\n\nexport default Menu;\n"],"names":["Menu","forwardRefWithStatics","props","ref","className","width","DEFAULT_MENU_WIDTH","children","theme","logo","operations","style","useConfig","classPrefix","useMenuContext","mode","value","menuWidthArr","Array","isArray","collapsed","React","createElement","MenuContext","Provider","classNames","HeadMenu","SubMenu","MenuItem","MenuGroup","displayName","defaultProps","menuDefaultProps"],"mappings":"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"}