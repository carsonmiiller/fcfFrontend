{"version":3,"file":"MenuItem.js","sources":["../../src/menu/MenuItem.tsx"],"sourcesContent":["import React, { FC, useContext, useRef } from 'react';\nimport classNames from 'classnames';\nimport useConfig from '../_util/useConfig';\nimport useRipple from '../_util/useRipple';\nimport { TdMenuItemProps } from './type';\nimport { StyledProps } from '../common';\nimport { MenuContext } from './MenuContext';\n\nexport interface MenuItemProps extends TdMenuItemProps, StyledProps {}\n\nconst MenuItem: FC<MenuItemProps> = (props) => {\n  const {\n    content,\n    children = content,\n    disabled,\n    href,\n    target = '_self',\n    value,\n    className,\n    style,\n    icon,\n    onClick,\n  } = props;\n  const { classPrefix } = useConfig();\n  // 斜八角动画\n  const menuItemRef = useRef();\n  useRipple(menuItemRef);\n\n  const { onChange, setState, active } = useContext(MenuContext);\n\n  const handleClick = (e: React.MouseEvent<HTMLLIElement>) => {\n    e.stopPropagation();\n    if (disabled || active === value) return;\n\n    onClick && onClick({ e });\n    onChange(value);\n    setState({ active: value });\n  };\n\n  return (\n    <li\n      ref={menuItemRef}\n      className={classNames(className, `${classPrefix}-menu__item`, {\n        [`${classPrefix}-is-disabled`]: disabled,\n        [`${classPrefix}-is-active`]: value === active,\n        [`${classPrefix}-menu__item--plain`]: !icon,\n      })}\n      style={{ ...style }}\n      onClick={handleClick}\n    >\n      {icon}\n      {href ? (\n        <a href={href} target={target} className={classNames(`${classPrefix}-menu__item-link`)}>\n          <span className={`${classPrefix}-menu__content`}>{children}</span>\n        </a>\n      ) : (\n        <span className={`${classPrefix}-menu__content`}>{children}</span>\n      )}\n    </li>\n  );\n};\n\nMenuItem.displayName = 'MenuItem';\n\nexport default MenuItem;\n"],"names":["MenuItem","props","content","children","disabled","href","target","value","className","style","icon","onClick","useConfig","classPrefix","menuItemRef","useRef","useRipple","useContext","MenuContext","onChange","setState","active","handleClick","e","stopPropagation","React","createElement","ref","classNames","displayName"],"mappings":"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"}