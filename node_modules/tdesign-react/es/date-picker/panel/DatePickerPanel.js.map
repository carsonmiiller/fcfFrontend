{"version":3,"file":"DatePickerPanel.js","sources":["../../../src/date-picker/panel/DatePickerPanel.tsx"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport dayjs from 'dayjs';\nimport useConfig from '../../_util/useConfig';\nimport { StyledProps } from '../../common';\nimport PanelContent from './PanelContent';\nimport ExtraContent from './ExtraContent';\nimport { TdDatePickerProps, DateValue } from '../type';\nimport type { TdTimePickerProps } from '../../time-picker';\nimport useTableData from './useTableData';\nimport useDisableDate from '../hooks/useDisableDate';\n\nexport interface DatePickerPanelProps extends TdDatePickerProps, StyledProps {\n  year?: number;\n  month?: number;\n  timeValue?: string;\n  onClick?: (context: { e: React.MouseEvent<HTMLDivElement> }) => void;\n  onCellClick?: (date: Date, context: { e: React.MouseEvent<HTMLDivElement> }) => void;\n  onCellMouseEnter?: (date: Date) => void;\n  onCellMouseLeave?: (context: { e: React.MouseEvent<HTMLDivElement> }) => void;\n  onJumperClick?: (flag: number) => void;\n  onConfirmClick?: (context: { e: React.MouseEvent<HTMLButtonElement> }) => void;\n  onPresetClick?: (\n    preset: DateValue | (() => DateValue),\n    context: { e: React.MouseEventHandler<HTMLButtonElement> },\n  ) => void;\n  onYearChange?: (year: number) => void;\n  onMonthChange?: (month: number) => void;\n  onTimePickerChange?: TdTimePickerProps['onChange'];\n}\n\nconst DatePickerPanel = (props: DatePickerPanelProps) => {\n  const { classPrefix, datePicker: globalDatePickerConfig } = useConfig();\n  const panelName = `${classPrefix}-date-picker__panel`;\n  const {\n    value,\n    mode,\n    format = 'YYYY-MM-DD',\n    presetsPlacement,\n    disableDate: disableDateFromProps,\n    firstDayOfWeek = globalDatePickerConfig.firstDayOfWeek,\n\n    style,\n    className,\n    year,\n    month,\n    onClick,\n  } = props;\n\n  const disableDateOptions = useDisableDate({ disableDate: disableDateFromProps, mode, format });\n\n  const tableData = useTableData({\n    year,\n    month,\n    mode,\n    start: value ? dayjs(value, format).toDate() : undefined,\n    firstDayOfWeek,\n    ...disableDateOptions,\n  });\n\n  const panelContentProps = {\n    mode,\n    year,\n    month,\n    format,\n    firstDayOfWeek,\n    tableData,\n\n    enableTimePicker: props.enableTimePicker,\n    timePickerProps: props.timePickerProps,\n    timeValue: props.timeValue,\n    onMonthChange: props.onMonthChange,\n    onYearChange: props.onYearChange,\n    onJumperClick: props.onJumperClick,\n    onCellClick: props.onCellClick,\n    onCellMouseEnter: props.onCellMouseEnter,\n    onCellMouseLeave: props.onCellMouseLeave,\n    onTimePickerChange: props.onTimePickerChange,\n  };\n\n  return (\n    <div\n      style={style}\n      className={classNames(panelName, className, {\n        [`${panelName}--direction-row`]: ['left', 'right'].includes(presetsPlacement),\n      })}\n      onClick={(e) => onClick?.({ e })}\n    >\n      {['top', 'left'].includes(presetsPlacement) ? <ExtraContent {...props} selectedValue={value} /> : null}\n      <PanelContent tableData={tableData} {...panelContentProps} />\n      {['bottom', 'right'].includes(presetsPlacement) ? <ExtraContent {...props} selectedValue={value} /> : null}\n    </div>\n  );\n};\n\nDatePickerPanel.displayName = 'DatePickerPanel';\n\nDatePickerPanel.defaultProps = {\n  mode: 'date',\n  enableTimePicker: false,\n  presetsPlacement: 'bottom',\n};\n\nexport default DatePickerPanel;\n"],"names":["DatePickerPanel","props","useConfig","classPrefix","globalDatePickerConfig","datePicker","panelName","value","mode","format","presetsPlacement","disableDateFromProps","disableDate","firstDayOfWeek","style","className","year","month","onClick","disableDateOptions","useDisableDate","tableData","useTableData","start","dayjs","toDate","panelContentProps","enableTimePicker","timePickerProps","timeValue","onMonthChange","onYearChange","onJumperClick","onCellClick","onCellMouseEnter","onCellMouseLeave","onTimePickerChange","React","createElement","classNames","includes","e","ExtraContent","selectedValue","PanelContent","displayName","defaultProps"],"mappings":"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"}