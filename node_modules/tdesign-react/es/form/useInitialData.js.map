{"version":3,"file":"useInitialData.js","sources":["../../src/form/useInitialData.ts"],"sourcesContent":["import React from 'react';\n\n// 兼容特殊数据结构和受控 key\nimport Tree from '../tree/Tree';\nimport Cascader from '../cascader/Cascader';\nimport Upload from '../upload/upload';\nimport CheckTag from '../tag/CheckTag';\nimport Checkbox from '../checkbox/Checkbox';\nimport TagInput from '../tag-input/TagInput';\nimport RangeInput from '../range-input/RangeInput';\nimport Transfer from '../transfer/Transfer';\nimport CheckboxGroup from '../checkbox/CheckboxGroup';\nimport DateRangePicker from '../date-picker/DateRangePicker';\nimport TimeRangePicker from '../time-picker/TimeRangePicker';\n\n// FormItem 子组件受控 key\nexport const ctrlKeyMap = new Map();\nctrlKeyMap.set(Checkbox, 'checked');\nctrlKeyMap.set(CheckTag, 'checked');\nctrlKeyMap.set(Upload, 'files');\n\n// FormItem 默认数据类型\nexport const initialDataMap = new Map();\ninitialDataMap.set(Tree, []);\ninitialDataMap.set(Upload, []);\ninitialDataMap.set(Transfer, []);\ninitialDataMap.set(Cascader, []);\ninitialDataMap.set(TagInput, []);\ninitialDataMap.set(RangeInput, []);\ninitialDataMap.set(CheckboxGroup, []);\ninitialDataMap.set(DateRangePicker, []);\ninitialDataMap.set(TimeRangePicker, []);\n\nexport function getDefaultInitialData(children: React.ReactNode, initialData: any) {\n  let defaultInitialData = initialData;\n  React.Children.forEach(children, (child) => {\n    if (!child) return;\n    if (React.isValidElement(child) && typeof initialData === 'undefined') {\n      defaultInitialData = initialDataMap.get(child.type);\n    }\n  });\n  return defaultInitialData;\n}\n"],"names":["ctrlKeyMap","Map","set","Checkbox","CheckTag","Upload","initialDataMap","Tree","Transfer","Cascader","TagInput","RangeInput","CheckboxGroup","DateRangePicker","TimeRangePicker","getDefaultInitialData","children","initialData","defaultInitialData","React","Children","forEach","child","isValidElement","get","type"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAYaA,UAAU,kBAAmB,IAAIC,GAAJ,GAAnC;AACPD,UAAU,CAACE,GAAX,CAAeC,QAAf,EAAyB,SAAzB,CAAA,CAAA;AACAH,UAAU,CAACE,GAAX,CAAeE,QAAf,EAAyB,SAAzB,CAAA,CAAA;AACAJ,UAAU,CAACE,GAAX,CAAeG,MAAf,EAAuB,OAAvB,CAAA,CAAA;IACaC,cAAc,kBAAmB,IAAIL,GAAJ,GAAvC;AACPK,cAAc,CAACJ,GAAf,CAAmBK,IAAnB,EAAyB,EAAzB,CAAA,CAAA;AACAD,cAAc,CAACJ,GAAf,CAAmBG,MAAnB,EAA2B,EAA3B,CAAA,CAAA;AACAC,cAAc,CAACJ,GAAf,CAAmBM,QAAnB,EAA6B,EAA7B,CAAA,CAAA;AACAF,cAAc,CAACJ,GAAf,CAAmBO,QAAnB,EAA6B,EAA7B,CAAA,CAAA;AACAH,cAAc,CAACJ,GAAf,CAAmBQ,QAAnB,EAA6B,EAA7B,CAAA,CAAA;AACAJ,cAAc,CAACJ,GAAf,CAAmBS,UAAnB,EAA+B,EAA/B,CAAA,CAAA;AACAL,cAAc,CAACJ,GAAf,CAAmBU,aAAnB,EAAkC,EAAlC,CAAA,CAAA;AACAN,cAAc,CAACJ,GAAf,CAAmBW,eAAnB,EAAoC,EAApC,CAAA,CAAA;AACAP,cAAc,CAACJ,GAAf,CAAmBY,eAAnB,EAAoC,EAApC,CAAA,CAAA;AACO,SAASC,qBAAT,CAA+BC,QAA/B,EAAyCC,WAAzC,EAAsD;EAC3D,IAAIC,kBAAkB,GAAGD,WAAzB,CAAA;EACAE,KAAK,CAACC,QAAN,CAAeC,OAAf,CAAuBL,QAAvB,EAAiC,UAACM,KAAD,EAAW;IAC1C,IAAI,CAACA,KAAL,EACE,OAAA;;IACF,kBAAIH,KAAK,CAACI,cAAN,CAAqBD,KAArB,CAAA,IAA+B,OAAOL,WAAP,KAAuB,WAA1D,EAAuE;MACrEC,kBAAkB,GAAGZ,cAAc,CAACkB,GAAf,CAAmBF,KAAK,CAACG,IAAzB,CAArB,CAAA;AACD,KAAA;GALH,CAAA,CAAA;AAOA,EAAA,OAAOP,kBAAP,CAAA;AACD;;;;"}