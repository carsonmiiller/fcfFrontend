{"version":3,"file":"number.js","sources":["../../src/_util/number.ts"],"sourcesContent":["/**\n ** 加法函数，用来得到精确的加法结果\n ** 说明：javascript的加法结果会有误差，在两个浮点数相加的时候会比较明显。这个函数返回较为精确的加法结果。\n ** 调用：accAdd(num1,num2)\n ** 返回值：num1加上num2的精确结果\n * */\nexport function accAdd(num1: number, num2: number) {\n  const isFloat = (n: number) => typeof n === 'number' && !Number.isInteger(n);\n\n  if (isFloat(num1) && isFloat(num2)) {\n    const [integer1, precision1] = String(num1).split('.');\n    const [integer2, precision2] = String(num2).split('.');\n\n    // 获取两个浮点数的最长精度\n    const maxPrecisionLen = Math.max(precision1.length, precision2.length);\n    // 对齐小数部分的精度长度\n    const wholePrecision1 = Number(precision1.padEnd(maxPrecisionLen, '0'));\n    const wholePrecision2 = Number(precision2.padEnd(maxPrecisionLen, '0'));\n\n    // 小数部分转化成整数相加之后除以精度最长的 10 的倍数\n    const precisionVal = (wholePrecision1 + wholePrecision2) / 10 ** maxPrecisionLen;\n    const integerVal = Number(integer1) + Number(integer2);\n\n    return integerVal + precisionVal;\n  }\n\n  return num1 + num2;\n}\n"],"names":["accAdd","num1","num2","isFloat","n","Number","isInteger","String","split","integer1","precision1","integer2","precision2","maxPrecisionLen","Math","max","length","wholePrecision1","padEnd","wholePrecision2","precisionVal","integerVal"],"mappings":";;;;;;;;;AAAO,SAASA,MAAT,CAAgBC,IAAhB,EAAsBC,IAAtB,EAA4B;AACjC,EAAA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,CAAD,EAAA;IAAA,OAAO,OAAOA,CAAP,KAAa,QAAb,IAAyB,CAACC,MAAM,CAACC,SAAP,CAAiBF,CAAjB,CAAjC,CAAA;GAAhB,CAAA;;EACA,IAAID,OAAO,CAACF,IAAD,CAAP,IAAiBE,OAAO,CAACD,IAAD,CAA5B,EAAoC;IAClC,IAA+BK,aAAAA,GAAAA,MAAM,CAACN,IAAD,CAAN,CAAaO,KAAb,CAAmB,GAAnB,CAA/B;AAAA,QAAA,cAAA,GAAA,cAAA,CAAA,aAAA,EAAA,CAAA,CAAA;AAAA,QAAOC,QAAP,GAAA,cAAA,CAAA,CAAA,CAAA;AAAA,QAAiBC,UAAjB,GAAA,cAAA,CAAA,CAAA,CAAA,CAAA;;IACA,IAA+BH,cAAAA,GAAAA,MAAM,CAACL,IAAD,CAAN,CAAaM,KAAb,CAAmB,GAAnB,CAA/B;AAAA,QAAA,cAAA,GAAA,cAAA,CAAA,cAAA,EAAA,CAAA,CAAA;AAAA,QAAOG,QAAP,GAAA,cAAA,CAAA,CAAA,CAAA;AAAA,QAAiBC,UAAjB,GAAA,cAAA,CAAA,CAAA,CAAA,CAAA;;AACA,IAAA,IAAMC,eAAe,GAAGC,IAAI,CAACC,GAAL,CAASL,UAAU,CAACM,MAApB,EAA4BJ,UAAU,CAACI,MAAvC,CAAxB,CAAA;AACA,IAAA,IAAMC,eAAe,GAAGZ,MAAM,CAACK,UAAU,CAACQ,MAAX,CAAkBL,eAAlB,EAAmC,GAAnC,CAAD,CAA9B,CAAA;AACA,IAAA,IAAMM,eAAe,GAAGd,MAAM,CAACO,UAAU,CAACM,MAAX,CAAkBL,eAAlB,EAAmC,GAAnC,CAAD,CAA9B,CAAA;IACA,IAAMO,YAAY,GAAG,CAACH,eAAe,GAAGE,eAAnB,IAAsC,IAAA,CAAA,GAAA,CAAA,EAAtC,EAA4CN,eAA5C,CAArB,CAAA;IACA,IAAMQ,UAAU,GAAGhB,MAAM,CAACI,QAAD,CAAN,GAAmBJ,MAAM,CAACM,QAAD,CAA5C,CAAA;IACA,OAAOU,UAAU,GAAGD,YAApB,CAAA;AACD,GAAA;;EACD,OAAOnB,IAAI,GAAGC,IAAd,CAAA;AACD;;;;"}