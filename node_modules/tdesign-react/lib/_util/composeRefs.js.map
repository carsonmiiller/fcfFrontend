{"version":3,"file":"composeRefs.js","sources":["../../src/_util/composeRefs.ts"],"sourcesContent":["import { Ref } from 'react';\n\n// 同时处理多个 ref\nexport default function composeRefs<T>(...refs: Ref<T>[]) {\n  return (instance: T) => {\n    // eslint-disable-next-line no-restricted-syntax\n    for (const ref of refs) {\n      // 兼容 useImperativeHandle 屏蔽获取当前 dom 场景\n      if (instance && (instance as any).currentElement && typeof ref === 'function') {\n        ref((instance as any).currentElement);\n      } else if (typeof ref === 'function') {\n        ref(instance);\n      } else if (ref) {\n        (ref as any).current = instance;\n      }\n    }\n  };\n}\n"],"names":["composeRefs","refs","instance","ref","currentElement","current"],"mappings":";;;;;;;;;;;;;;;;AAAe,SAASA,WAAT,GAA8B;AAAA,EAAA,KAAA,IAAA,IAAA,GAAA,SAAA,CAAA,MAAA,EAANC,IAAM,GAAA,IAAA,KAAA,CAAA,IAAA,CAAA,EAAA,IAAA,GAAA,CAAA,EAAA,IAAA,GAAA,IAAA,EAAA,IAAA,EAAA,EAAA;IAANA,IAAM,CAAA,IAAA,CAAA,GAAA,SAAA,CAAA,IAAA,CAAA,CAAA;AAAA,GAAA;;EAC3C,OAAO,UAACC,QAAD,EAAc;AAAA,IAAA,IAAA,SAAA,GAAA,0BAAA,CACDD,IADC,CAAA;AAAA,QAAA,KAAA,CAAA;;AAAA,IAAA,IAAA;MACnB,KAAwB,SAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAA,KAAA,GAAA,SAAA,CAAA,CAAA,EAAA,EAAA,IAAA,GAAA;AAAA,QAAA,IAAbE,GAAa,GAAA,KAAA,CAAA,KAAA,CAAA;;QACtB,IAAID,QAAQ,IAAIA,QAAQ,CAACE,cAArB,IAAuC,OAAOD,GAAP,KAAe,UAA1D,EAAsE;AACpEA,UAAAA,GAAG,CAACD,QAAQ,CAACE,cAAV,CAAH,CAAA;AACD,SAFD,MAEO,IAAI,OAAOD,GAAP,KAAe,UAAnB,EAA+B;UACpCA,GAAG,CAACD,QAAD,CAAH,CAAA;SADK,MAEA,IAAIC,GAAJ,EAAS;UACdA,GAAG,CAACE,OAAJ,GAAcH,QAAd,CAAA;AACD,SAAA;AACF,OAAA;AATkB,KAAA,CAAA,OAAA,GAAA,EAAA;AAAA,MAAA,SAAA,CAAA,CAAA,CAAA,GAAA,CAAA,CAAA;AAAA,KAAA,SAAA;AAAA,MAAA,SAAA,CAAA,CAAA,EAAA,CAAA;AAAA,KAAA;GAArB,CAAA;AAWD;;;;"}