{"version":3,"file":"PanelContent.js","sources":["../../../src/date-picker/panel/PanelContent.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\nimport dayjs from 'dayjs';\nimport DateHeader from '../base/Header';\nimport DateTable from '../base/Table';\nimport TimePickerPanel from '../../time-picker/panel/TimePickerPanel';\nimport type { DatePickerPanelProps } from './DatePickerPanel';\nimport type { DateRangePickerPanelProps } from './DateRangePickerPanel';\nimport useConfig from '../../_util/useConfig';\nimport { getDefaultFormat } from '../hooks/useFormat';\n\nexport interface PanelContentProps {\n  partial?: 'start' | 'end';\n  year: DatePickerPanelProps['year'];\n  month: DatePickerPanelProps['month'];\n  mode: DatePickerPanelProps['mode'];\n  format: DatePickerPanelProps['format'];\n  enableTimePicker: DatePickerPanelProps['enableTimePicker'];\n  timePickerProps: DatePickerPanelProps['timePickerProps'];\n  firstDayOfWeek: DatePickerPanelProps['firstDayOfWeek'];\n  timeValue: DatePickerPanelProps['timeValue'];\n\n  tableData: any[];\n  onMonthChange: DatePickerPanelProps['onMonthChange'] | DateRangePickerPanelProps['onMonthChange'];\n  onYearChange: DatePickerPanelProps['onYearChange'] | DateRangePickerPanelProps['onYearChange'];\n  onJumperClick: DatePickerPanelProps['onJumperClick'] | DateRangePickerPanelProps['onJumperClick'];\n  onCellClick: DatePickerPanelProps['onCellClick'] | DateRangePickerPanelProps['onCellClick'];\n  onCellMouseEnter: DatePickerPanelProps['onCellMouseEnter'] | DateRangePickerPanelProps['onCellMouseEnter'];\n  onCellMouseLeave: DatePickerPanelProps['onCellMouseLeave'] | DateRangePickerPanelProps['onCellMouseLeave'];\n  onTimePickerChange: DatePickerPanelProps['onTimePickerChange'] | DateRangePickerPanelProps['onTimePickerChange'];\n}\n\nexport default function PanelContent(props: PanelContentProps) {\n  const { classPrefix } = useConfig();\n  const panelName = `${classPrefix}-date-picker__panel`;\n\n  const {\n    year,\n    month,\n    mode,\n    format,\n    enableTimePicker,\n    timePickerProps,\n    firstDayOfWeek,\n\n    partial = 'start',\n    timeValue,\n    tableData,\n    onMonthChange,\n    onYearChange,\n    onJumperClick,\n    onCellClick,\n    onCellMouseEnter,\n    onCellMouseLeave,\n    onTimePickerChange,\n  } = props;\n\n  const { timeFormat } = getDefaultFormat({ mode, format, enableTimePicker });\n\n  // eslint-disable-next-line\n  const defaultTimeValue = useMemo(() => dayjs().format(timeFormat), [timeValue]);\n\n  return (\n    <div className={`${panelName}--content`}>\n      <div className={`${panelName}--${mode}`}>\n        <DateHeader\n          mode={mode}\n          year={year}\n          month={month}\n          onMonthChange={(val: number) => onMonthChange?.(val, { partial })}\n          onYearChange={(val: number) => onYearChange?.(val, { partial })}\n          onJumperClick={(val: number) => onJumperClick?.(val, { partial })}\n        />\n\n        <DateTable\n          mode={mode}\n          data={tableData}\n          timeValue={timeValue}\n          firstDayOfWeek={firstDayOfWeek}\n          onCellClick={(date: Date, { e }) => onCellClick?.(date, { e, partial })}\n          onCellMouseEnter={(date: Date) => onCellMouseEnter?.(date, { partial })}\n          onCellMouseLeave={onCellMouseLeave}\n        />\n      </div>\n\n      {enableTimePicker && (\n        <div className={`${panelName}--time`}>\n          <div className={`${panelName}--time-viewer`}>{timeValue || defaultTimeValue}</div>\n          <TimePickerPanel format={timeFormat} value={timeValue} onChange={onTimePickerChange} {...timePickerProps} />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["PanelContent","props","useConfig","classPrefix","panelName","year","month","mode","format","enableTimePicker","timePickerProps","firstDayOfWeek","partial","timeValue","tableData","onMonthChange","onYearChange","onJumperClick","onCellClick","onCellMouseEnter","onCellMouseLeave","onTimePickerChange","getDefaultFormat","timeFormat","defaultTimeValue","useMemo","dayjs","React","createElement","className","DateHeader","val","DateTable","data","date","e","TimePickerPanel","value","onChange"],"mappings":"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"}