{"version":3,"file":"Card.js","sources":["../../src/card/Card.tsx"],"sourcesContent":["import React, { forwardRef } from 'react';\nimport classNames from 'classnames';\n\nimport { TdCardProps } from './type';\nimport Loading from '../loading';\nimport { StyledProps } from '../common';\n\nimport useConfig from '../_util/useConfig';\nimport useCommonClassName from '../_util/useCommonClassName';\nimport { cardDefaultProps } from './defaultProps';\n\nexport interface CardProps extends TdCardProps, StyledProps {}\n\nconst Card = forwardRef((props: CardProps, ref: React.Ref<HTMLDivElement>) => {\n  const {\n    actions,\n    avatar,\n    bordered,\n    children,\n    className,\n    cover,\n    description,\n    footer,\n    header,\n    headerBordered,\n    hoverShadow,\n    loading,\n    shadow,\n    size,\n    style,\n    subtitle,\n    title,\n    theme,\n    status,\n  } = props;\n\n  const { classPrefix } = useConfig();\n  const commonClassNames = useCommonClassName();\n  // 是否为海报风格2\n  const isPoster2 = theme === 'poster2';\n\n  const cardClass = classNames(className, `${classPrefix}-card`, {\n    [commonClassNames.SIZE.small]: size === 'small',\n    [`${classPrefix}-card--bordered`]: bordered,\n    [`${classPrefix}--shadow`]: shadow,\n    [`${classPrefix}-card--shadow-hover`]: hoverShadow,\n  });\n\n  const showHeader =\n    header || title || subtitle || description || avatar || (actions && !isPoster2) || (status && isPoster2);\n\n  const headerClass = classNames({\n    [`${classPrefix}-card__header`]: showHeader,\n    [`${classPrefix}-card__title--bordered`]: headerBordered,\n  });\n\n  const titleClass = classNames({\n    [`${classPrefix}-card__title`]: title,\n  });\n\n  const subtitleClass = classNames({\n    [`${classPrefix}-card__subtitle`]: subtitle,\n  });\n\n  const actionClass = classNames({\n    [`${classPrefix}-card__actions`]: actions,\n  });\n\n  const footerClass = classNames({\n    [`${classPrefix}-card__footer`]: footer,\n  });\n\n  const coverClass = classNames({\n    [`${classPrefix}-card__cover`]: cover,\n  });\n\n  const avatarClass = classNames({\n    [`${classPrefix}-card__avatar`]: avatar,\n  });\n\n  const bodyClass = classNames({\n    [`${classPrefix}-card__body`]: children,\n  });\n\n  const descriptionClass = classNames({\n    [`${classPrefix}-card__description`]: description,\n  });\n\n  const renderTitle = title ? <span className={titleClass}>{title}</span> : null;\n\n  const renderSubtitle = subtitle ? <span className={subtitleClass}>{subtitle}</span> : null;\n\n  const renderDescription = description ? <p className={descriptionClass}>{description}</p> : null;\n\n  const renderAvatar = avatar && <div className={avatarClass}>{avatar}</div>;\n\n  const renderActions = actions && !isPoster2 && <div className={actionClass}>{actions}</div>;\n\n  const renderStatus = status && isPoster2 && <div className={actionClass}>{status}</div>;\n\n  const renderHeader = showHeader && (\n    <div className={headerClass}>\n      <div className={`${classPrefix}-card__header-wrapper`}>\n        {renderAvatar}\n        <div>\n          {renderTitle}\n          {renderSubtitle}\n          {renderDescription}\n        </div>\n      </div>\n      {renderActions}\n      {renderStatus}\n    </div>\n  );\n\n  const renderCover = cover ? (\n    <div className={coverClass}>{typeof cover === 'string' ? <img src={cover} alt=\"\"></img> : cover}</div>\n  ) : null;\n\n  const renderChildren = children && <div className={bodyClass}>{children}</div>;\n\n  const renderFooter = footer && (\n    <div className={footerClass}>\n      <div className={`${classPrefix}-card__footer-wrapper`}>{footer}</div>\n      {isPoster2 && actions && renderActions}\n    </div>\n  );\n\n  if (loading) {\n    return (\n      <Loading>\n        <div className={cardClass}></div>\n      </Loading>\n    );\n  }\n\n  return (\n    <div ref={ref} className={cardClass} style={style}>\n      {renderHeader}\n      {renderCover}\n      {renderChildren}\n      {renderFooter}\n    </div>\n  );\n});\n\nCard.displayName = 'Card';\nCard.defaultProps = cardDefaultProps;\n\nexport default Card;\n"],"names":["Card","forwardRef","props","ref","actions","avatar","bordered","children","className","cover","description","footer","header","headerBordered","hoverShadow","loading","shadow","size","style","subtitle","title","theme","status","useConfig","classPrefix","commonClassNames","useCommonClassName","isPoster2","cardClass","classNames","_defineProperty","SIZE","small","showHeader","headerClass","titleClass","subtitleClass","actionClass","footerClass","coverClass","avatarClass","bodyClass","descriptionClass","renderTitle","React","createElement","renderSubtitle","renderDescription","renderAvatar","renderActions","renderStatus","renderHeader","renderCover","src","alt","renderChildren","renderFooter","Loading","displayName","defaultProps","cardDefaultProps"],"mappings":"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"}