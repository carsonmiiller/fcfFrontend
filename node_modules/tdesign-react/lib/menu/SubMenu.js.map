{"version":3,"file":"SubMenu.js","sources":["../../src/menu/SubMenu.tsx"],"sourcesContent":["import React, { FC, useContext, useState, ReactElement, useMemo, useRef } from 'react';\nimport classNames from 'classnames';\nimport { StyledProps } from '../common';\nimport { TdSubmenuProps } from './type';\nimport useConfig from '../_util/useConfig';\nimport { MenuContext } from './MenuContext';\nimport useRipple from '../_util/useRipple';\nimport { getSubMenuMaxHeight } from './_util/getSubMenuChildStyle';\nimport checkSubMenuChildrenActive from './_util/checkSubMenuChildrenActive';\nimport FakeArrow from '../common/FakeArrow';\nimport { checkIsSubMenu, checkIsMenuGroup } from './_util/checkMenuType';\nimport { cacularPaddingLeft } from './_util/cacularPaddingLeft';\n\nexport interface SubMenuProps extends TdSubmenuProps, StyledProps {}\n\nexport interface SubMenuWithCustomizeProps extends SubMenuProps {\n  level?: number;\n}\n\nconst SubAccordion: FC<SubMenuWithCustomizeProps> = (props) => {\n  const { content, children = content, disabled, icon, title, value, className, style, level = 1 } = props;\n  const { classPrefix } = useConfig();\n\n  // popup 状态下控制开关\n  const [open, setOpen] = useState(false);\n  const { expanded = [], onExpand, active, expandType } = useContext(MenuContext);\n\n  const isPopUp = expandType === 'popup';\n\n  // 非 popup 展开\n  const isExpand = expanded.includes(value) && !disabled && !isPopUp;\n\n  const handleClick = (e: React.MouseEvent<HTMLLIElement, MouseEvent>) => {\n    e.stopPropagation();\n    onExpand(value, expanded);\n  };\n\n  const handleMouseEvent = (type: 'leave' | 'enter') => {\n    if (!isPopUp) return;\n    if (type === 'enter') setOpen(true);\n    else if (type === 'leave') setOpen(false);\n  };\n\n  const childrens = React.Children.map(children, (child) =>\n    React.cloneElement(child as ReactElement, {\n      className: classNames(\n        `${classPrefix}-menu__item--plain`,\n        `${classPrefix}-submenu__item`,\n        `${classPrefix}-submenu__item--icon`,\n      ),\n    }),\n  );\n\n  // 计算有多少子节点并设置最大高度，为做出动画效果\n  const childStyle = {\n    maxHeight: isExpand || (open && isPopUp) ? getSubMenuMaxHeight(children) : 0,\n  };\n\n  // 是否展开（popup 与 expand 两种状态）\n  const isOpen = useMemo(() => {\n    if (disabled) return false;\n    if (isPopUp) return open;\n    return isExpand;\n  }, [disabled, isPopUp, open, isExpand]);\n\n  // 计算左边距，兼容多层级子菜单\n  const menuPaddingLeft = cacularPaddingLeft(level - 1);\n\n  const fakeArrowStyle = isPopUp && level > 1 ? { transform: 'rotate(-90deg)' } : {};\n\n  return (\n    <li\n      className={classNames(className, `${classPrefix}-submenu`, {\n        [`${classPrefix}-is-disabled`]: disabled,\n        [`${classPrefix}-is-opened`]: isOpen,\n      })}\n      onClick={handleClick}\n      style={style}\n      onMouseEnter={() => handleMouseEvent('enter')}\n      onMouseLeave={() => handleMouseEvent('leave')}\n    >\n      <div\n        className={classNames(`${classPrefix}-menu__item`, {\n          [`${classPrefix}-is-opened`]: isOpen,\n          [`${classPrefix}-is-active`]: checkSubMenuChildrenActive(children, active),\n        })}\n      >\n        {icon} <span className={`${classPrefix}-menu__content`}>{title}</span>\n        <FakeArrow style={fakeArrowStyle} isActive={isOpen} disabled={disabled} />\n      </div>\n      {isPopUp ? (\n        <div\n          className={classNames(`${classPrefix}-menu__popup`, `${classPrefix}-is-vertical`, {\n            [`${classPrefix}-is-opened`]: isOpen,\n          })}\n        >\n          <ul\n            className={classNames(`${classPrefix}-menu__popup-wrapper`, {\n              [`${classPrefix}-is-opened`]: isOpen,\n            })}\n            key=\"popup\"\n            style={childStyle}\n          >\n            {childrens}\n          </ul>\n        </div>\n      ) : (\n        <ul\n          key=\"normal\"\n          style={{ ...childStyle, '--padding-left': `${menuPaddingLeft}px` } as React.CSSProperties}\n          className={`${classPrefix}-menu__sub`}\n        >\n          {childrens}\n        </ul>\n      )}\n    </li>\n  );\n};\n\nconst SubTitleMenu: FC<SubMenuWithCustomizeProps> = (props) => {\n  const { className, style, children, title, value, level } = props;\n  const { active, onChange, expandType } = useContext(MenuContext);\n  const { classPrefix } = useConfig();\n  const [open, setOpen] = useState(false);\n  const popRef = useRef<HTMLUListElement>();\n\n  const handleClick = () => onChange(value);\n\n  // 斜八角动画\n  const subMenuRef = useRef();\n  useRipple(subMenuRef);\n\n  // pupup 导航\n  const isPopUp = expandType === 'popup';\n  // 当前二级导航激活\n  const isActive = checkSubMenuChildrenActive(children, active) || active === value;\n\n  const handleMouseEvent = (type: 'leave' | 'enter') => {\n    if (!isPopUp) return;\n    if (type === 'enter') setOpen(true);\n    else if (type === 'leave') setOpen(false);\n  };\n\n  const fakeArrowStyle = level > 1 ? { transform: 'rotate(-90deg)' } : {};\n\n  const submenuMaxHeight = getSubMenuMaxHeight(children);\n  const popupMaxHeight = popRef.current?.getBoundingClientRect().height || submenuMaxHeight;\n  const showPopup = isPopUp && submenuMaxHeight > 0;\n\n  return (\n    <li\n      className={classNames(className, `${classPrefix}-submenu`, {\n        [`${classPrefix}-is-opened`]: open,\n      })}\n      onMouseEnter={() => handleMouseEvent('enter')}\n      onMouseLeave={() => handleMouseEvent('leave')}\n    >\n      <div\n        ref={subMenuRef}\n        className={classNames(`${classPrefix}-menu__item`, {\n          [`${classPrefix}-is-active`]: isActive,\n          [`${classPrefix}-is-opened`]: open,\n        })}\n        onClick={handleClick}\n        style={style}\n      >\n        <span>{title}</span>\n        {showPopup && <FakeArrow style={fakeArrowStyle} isActive={open} />}\n      </div>\n      {showPopup && (\n        <div\n          className={classNames(`${classPrefix}-menu__popup`, {\n            [`${classPrefix}-is-opened`]: open,\n          })}\n          style={{ '--popup-max-height': `${popupMaxHeight}px` } as React.CSSProperties}\n        >\n          <ul ref={popRef} className={classNames(`${classPrefix}-menu__popup-wrapper`)}>\n            {children}\n          </ul>\n        </div>\n      )}\n    </li>\n  );\n};\n\nconst SubMenu: FC<SubMenuWithCustomizeProps> = (props) => {\n  const { mode } = useContext(MenuContext);\n  const { children, level = 1 } = props;\n\n  const changeItemLevel = (item: React.ReactElement) => {\n    if (checkIsSubMenu(item)) {\n      return React.cloneElement(item, {\n        level: level + 1,\n      });\n    }\n    if (checkIsMenuGroup(item)) {\n      const groupChildren = React.Children.map(item.props.children, (item: React.ReactElement) =>\n        changeItemLevel(item),\n      );\n      return React.cloneElement(\n        item,\n        {\n          level: level + 1,\n        },\n        groupChildren,\n      );\n    }\n    return item;\n  };\n\n  // 如果是第二层及以及的 subMenu 需要添加 notFirstLevelSubMenu 属性\n  const childElement = React.Children.map(children, (item: React.ReactElement) => changeItemLevel(item));\n\n  if (mode === 'accordion') return <SubAccordion {...props}>{childElement}</SubAccordion>;\n  if (mode === 'title') return <SubTitleMenu {...props}>{childElement}</SubTitleMenu>;\n  return null;\n};\n\nSubMenu.displayName = 'SubMenu';\n\nexport default SubMenu;\n"],"names":["SubAccordion","props","content","children","disabled","icon","title","value","className","style","level","useConfig","classPrefix","useState","_slicedToArray","open","setOpen","useContext","MenuContext","expanded","onExpand","active","expandType","isPopUp","isExpand","includes","handleClick","e","stopPropagation","handleMouseEvent","type","childrens","React","Children","map","child","cloneElement","classNames","childStyle","maxHeight","getSubMenuMaxHeight","isOpen","useMemo","menuPaddingLeft","cacularPaddingLeft","fakeArrowStyle","transform","createElement","_defineProperty","onClick","onMouseEnter","onMouseLeave","checkSubMenuChildrenActive","FakeArrow","isActive","key","SubTitleMenu","onChange","popRef","useRef","subMenuRef","useRipple","submenuMaxHeight","popupMaxHeight","current","getBoundingClientRect","height","showPopup","ref","SubMenu","mode","changeItemLevel","item","checkIsSubMenu","checkIsMenuGroup","groupChildren","item2","childElement","displayName"],"mappings":"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"}