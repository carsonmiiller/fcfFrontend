{"version":3,"file":"Badge.js","sources":["../../src/badge/Badge.tsx"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport { StyledProps } from '../common';\nimport useConfig from '../_util/useConfig';\nimport { TdBadgeProps } from './type';\nimport { badgeDefaultProps } from './defaultProps';\n\nexport interface BadgeProps extends TdBadgeProps, StyledProps {}\n\nconst Badge: React.FC<BadgeProps> = ({\n  color,\n  dot,\n  maxCount,\n  count,\n  size,\n  shape,\n  showZero,\n  offset,\n  className,\n  content,\n  children,\n  style,\n  ...restProps\n}) => {\n  const { classPrefix } = useConfig();\n\n  const childNode = children || content;\n\n  const badgeClassName = classNames(\n    !childNode && `${classPrefix}-badge--static`,\n    dot ? `${classPrefix}-badge--dot` : shape && `${classPrefix}-badge--${shape}`,\n    size === 'small' && `${classPrefix}-size-s`,\n    !childNode && className,\n  );\n  const getDisplayCount = () => {\n    if (typeof count === 'number' && count > maxCount) {\n      return `${maxCount}+`;\n    }\n    return count;\n  };\n\n  let isHidden = !count;\n  if (typeof count === 'number') {\n    isHidden = count < 1 && !showZero;\n  }\n\n  const getStyle = () => {\n    const mergedStyle: React.CSSProperties = { ...style };\n    if (color) mergedStyle.backgroundColor = color;\n    if (offset) {\n      if (offset[0]) {\n        mergedStyle.right = +offset[0];\n      }\n      if (offset[1]) {\n        mergedStyle.marginTop = +offset[1];\n      }\n    }\n    return mergedStyle;\n  };\n\n  const badge = !isHidden ? (\n    <span {...(childNode ? {} : restProps)} className={badgeClassName} style={getStyle()}>\n      {!dot ? getDisplayCount() : null}\n    </span>\n  ) : null;\n\n  if (!childNode) return badge;\n\n  return (\n    <span {...restProps} className={classNames(`${classPrefix}-badge`, className)}>\n      {childNode}\n      {badge}\n    </span>\n  );\n};\n\nBadge.displayName = 'Badge';\nBadge.defaultProps = badgeDefaultProps;\n\nexport default Badge;\n"],"names":["Badge","color","dot","maxCount","count","size","shape","showZero","offset","className","content","children","style","restProps","_objectWithoutProperties","useConfig","classPrefix","childNode","badgeClassName","classNames","getDisplayCount","isHidden","getStyle","mergedStyle","backgroundColor","right","marginTop","badge","React","createElement","displayName","defaultProps","badgeDefaultProps"],"mappings":"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"}