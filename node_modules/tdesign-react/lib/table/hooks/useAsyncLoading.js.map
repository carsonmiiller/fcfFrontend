{"version":3,"file":"useAsyncLoading.js","sources":["../../../src/table/hooks/useAsyncLoading.tsx"],"sourcesContent":["import React from 'react';\nimport isString from 'lodash/isString';\nimport classNames from 'classnames';\nimport { TdPrimaryTableProps } from '../type';\nimport Loading from '../../loading';\nimport useClassName from './useClassName';\nimport { useLocaleReceiver } from '../../locale/LocalReceiver';\n\nexport default function useAsyncLoading(props: TdPrimaryTableProps) {\n  const [local] = useLocaleReceiver('table');\n  const { isLoadingClass, isLoadMoreClass, asyncLoadingClass } = useClassName();\n\n  const classes = [\n    asyncLoadingClass,\n    {\n      [isLoadingClass]: props.asyncLoading === 'loading',\n      [isLoadMoreClass]: props.asyncLoading === 'load-more',\n    },\n  ];\n\n  function onLoadClick() {\n    if (typeof props.asyncLoading !== 'string') return;\n    const status = props.asyncLoading === 'loading' ? 'loading' : 'load-more';\n    props.onAsyncLoadingClick?.({ status });\n  }\n\n  function renderAsyncLoading() {\n    const asyncLoadingNode = props.asyncLoading;\n    if (isString(asyncLoadingNode)) {\n      const { asyncLoading } = props;\n      const loadingText = {\n        'load-more': local.loadingMoreText,\n        loading: local.loadingText,\n      }[String(asyncLoading)];\n      return (\n        <div className={classNames(classes)} onClick={onLoadClick}>\n          {<Loading loading={true} text={loadingText} indicator={asyncLoading === 'loading'} />}\n        </div>\n      );\n    }\n    if (asyncLoadingNode) {\n      return (\n        <div className={classNames(classes)} onClick={onLoadClick}>\n          {asyncLoadingNode}\n        </div>\n      );\n    }\n    return null;\n  }\n  return {\n    renderAsyncLoading,\n  };\n}\n"],"names":["useAsyncLoading","props","useLocaleReceiver","_slicedToArray","local","useClassName","isLoadingClass","isLoadMoreClass","asyncLoadingClass","classes","asyncLoading","_defineProperty","onLoadClick","status","onAsyncLoadingClick","renderAsyncLoading","asyncLoadingNode","isString","loadingText","loadingMoreText","loading","String","React","createElement","className","classNames","onClick","Loading","text","indicator"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMe,SAASA,eAAT,CAAyBC,KAAzB,EAAgC;AAAA,EAAA,IAAA,IAAA,CAAA;;EAC7C,IAAgBC,kBAAAA,GAAAA,sCAAiB,CAAC,OAAD,CAAjC;AAAA,MAAA,mBAAA,GAAAC,4BAAA,CAAA,kBAAA,EAAA,CAAA,CAAA;AAAA,MAAOC,KAAP,GAAA,mBAAA,CAAA,CAAA,CAAA,CAAA;;AACA,EAAA,IAAA,aAAA,GAA+DC,mCAAY,EAA3E;MAAQC,cAAR,iBAAQA,cAAR;MAAwBC,eAAxB,iBAAwBA,eAAxB;MAAyCC,iBAAzC,iBAAyCA,iBAAzC,CAAA;;EACA,IAAMC,OAAO,GAAG,CACdD,iBADc,mDAGXF,cAHW,EAGML,KAAK,CAACS,YAAN,KAAuB,SAH7B,CAAA,EAAAC,8BAAA,CAAA,IAAA,EAIXJ,eAJW,EAION,KAAK,CAACS,YAAN,KAAuB,WAJ9B,CAAhB,EAAA,IAAA,EAAA,CAAA;;AAOA,EAAA,SAASE,WAAT,GAAuB;AAAA,IAAA,IAAA,qBAAA,CAAA;;AACrB,IAAA,IAAI,OAAOX,KAAK,CAACS,YAAb,KAA8B,QAAlC,EACE,OAAA;IACF,IAAMG,MAAM,GAAGZ,KAAK,CAACS,YAAN,KAAuB,SAAvB,GAAmC,SAAnC,GAA+C,WAA9D,CAAA;AACA,IAAA,CAAA,qBAAA,GAAAT,KAAK,CAACa,mBAAN,MAAA,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,qBAAA,CAAA,IAAA,CAAAb,KAAK,EAAuB;AAAEY,MAAAA,MAAM,EAANA,MAAAA;AAAF,KAAvB,CAAL,CAAA;AACD,GAAA;;AACD,EAAA,SAASE,kBAAT,GAA8B;AAC5B,IAAA,IAAMC,gBAAgB,GAAGf,KAAK,CAACS,YAA/B,CAAA;;AACA,IAAA,IAAIO,mBAAQ,CAACD,gBAAD,CAAZ,EAAgC;AAC9B,MAAA,IAAQN,YAAR,GAAyBT,KAAzB,CAAQS,YAAR,CAAA;AACA,MAAA,IAAMQ,WAAW,GAAG;QAClB,WAAad,EAAAA,KAAK,CAACe,eADD;QAElBC,OAAO,EAAEhB,KAAK,CAACc,WAAAA;AAFG,OAAA,CAGlBG,MAAM,CAACX,YAAD,CAHY,CAApB,CAAA;AAIA,MAAA,sBAAuBY,yBAAK,CAACC,aAAN,CAAoB,KAApB,EAA2B;AAChDC,QAAAA,SAAS,EAAEC,8BAAU,CAAChB,OAAD,CAD2B;AAEhDiB,QAAAA,OAAO,EAAEd,WAAAA;AAFuC,OAA3B,iBAGJU,yBAAK,CAACC,aAAN,CAAoBI,qBAApB,EAA6B;AAC9CP,QAAAA,OAAO,EAAE,IADqC;AAE9CQ,QAAAA,IAAI,EAAEV,WAFwC;QAG9CW,SAAS,EAAEnB,YAAY,KAAK,SAAA;AAHkB,OAA7B,CAHI,CAAvB,CAAA;AAQD,KAAA;;AACD,IAAA,IAAIM,gBAAJ,EAAsB;AACpB,MAAA,sBAAuBM,yBAAK,CAACC,aAAN,CAAoB,KAApB,EAA2B;AAChDC,QAAAA,SAAS,EAAEC,8BAAU,CAAChB,OAAD,CAD2B;AAEhDiB,QAAAA,OAAO,EAAEd,WAAAA;OAFY,EAGpBI,gBAHoB,CAAvB,CAAA;AAID,KAAA;;AACD,IAAA,OAAO,IAAP,CAAA;AACD,GAAA;;EACD,OAAO;AACLD,IAAAA,kBAAkB,EAAlBA,kBAAAA;GADF,CAAA;AAGD;;;;"}