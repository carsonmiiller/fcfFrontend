{"version":3,"file":"InputContent.js","sources":["../../../src/cascader/components/InputContent.tsx"],"sourcesContent":["import React, { useState, useMemo, useEffect, useRef } from 'react';\nimport classNames from 'classnames';\nimport isFunction from 'lodash/isFunction';\nimport { CloseCircleFilledIcon } from 'tdesign-icons-react';\nimport useConfig from '../../_util/useConfig';\nimport useCommonClassName from '../../_util/useCommonClassName';\n\n// component\nimport Tag from '../../tag';\nimport Input from '../../input';\nimport FakeArrow from '../../common/FakeArrow';\n\n// common logic\nimport {\n  getCloseIconClass,\n  getFakeArrowIconClass,\n  getCascaderInnerClasses,\n  getCloseShow,\n  getPlaceholderShow,\n  getSingleContent,\n  getMultipleContent,\n  outerClickListenerEffect,\n  closeIconClickEffect,\n  handleRemoveTagEffect,\n  innerContentClickEffect,\n} from '../utils/inputContent';\n\n// types\nimport { InputContentProps, InnerContentProps, ContentProps, SuffixIconProps, TreeNode } from '../interface';\n\n/**\n * SuffixIcon component\n */\n\nconst SuffixIcon = (props: SuffixIconProps) => {\n  const { cascaderContext, closeShow, fakeArrowIconClass, closeIconClass } = props;\n  const { visible, disabled, size } = cascaderContext;\n\n  const closeIconClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n\n    closeIconClickEffect(cascaderContext);\n  };\n\n  if (closeShow) {\n    return <CloseCircleFilledIcon className={closeIconClass} onClick={closeIconClick} size={size} />;\n  }\n\n  return <FakeArrow overlayClassName={fakeArrowIconClass} isActive={visible} disabled={disabled} />;\n};\n\nconst InnerContent: React.FC<InnerContentProps> = (props: InnerContentProps) => {\n  const { cascaderContext, listeners, placeholder, collapsedItems } = props;\n  const { classPrefix: prefix } = useConfig();\n  const { multiple, size, disabled, filterable, setFilterActive, visible, inputVal, setInputVal, minCollapsedNum } =\n    cascaderContext;\n  const { onFocus, onBlur, onRemove } = listeners;\n\n  // single select content\n  const singleContent = useMemo(() => getSingleContent(cascaderContext), [cascaderContext]);\n\n  // multiple select content\n  const multipleContent = useMemo(() => getMultipleContent(cascaderContext), [cascaderContext]);\n\n  const renderSelfTag = (node: TreeNode, index: number) => (\n    <Tag\n      closable={!disabled}\n      key={index}\n      disabled={disabled}\n      onClose={(ctx) => {\n        ctx.e.stopPropagation();\n        handleRemoveTagEffect(cascaderContext, node, onRemove);\n      }}\n      size={size}\n    >\n      {node.label}\n    </Tag>\n  );\n\n  const generalContent = !multiple ? (\n    <span className={`${prefix}-cascader__content`}>{singleContent}</span>\n  ) : (\n    <>\n      {minCollapsedNum > 0 && multipleContent.length > minCollapsedNum ? (\n        <>\n          {multipleContent.slice(0, minCollapsedNum).map((node: TreeNode, index: number) => renderSelfTag(node, index))}\n          {!collapsedItems ? (\n            <Tag size={size} disabled={disabled}>\n              +{multipleContent.length - minCollapsedNum}\n            </Tag>\n          ) : (\n            collapsedItems\n          )}\n        </>\n      ) : (\n        multipleContent.map((node: TreeNode, index: number) => renderSelfTag(node, index))\n      )}\n    </>\n  );\n\n  const inputPlaceholder = multiple ? multipleContent.map((node) => node.label).join('、') : singleContent;\n\n  const filterContent = (\n    <Input\n      placeholder={inputPlaceholder || placeholder}\n      value={inputVal}\n      onChange={(value: string) => {\n        setInputVal(value);\n        setFilterActive(!!value);\n      }}\n      autofocus\n      onFocus={(v, context) => isFunction(onFocus) && onFocus({ inputVal, e: context?.e })}\n      onBlur={(v, context) => isFunction(onBlur) && onBlur({ inputVal, e: context?.e })}\n    />\n  );\n\n  const showFilter = useMemo(() => filterable && visible, [filterable, visible]);\n  return showFilter ? filterContent : generalContent;\n};\n\nconst Content: React.FC<ContentProps> = (props: ContentProps) => {\n  const { placeholder, cascaderContext, listeners, isHover, collapsedItems } = props;\n  const { classPrefix: prefix } = useConfig();\n\n  // single select content\n  const singleContent = useMemo(() => getSingleContent(cascaderContext), [cascaderContext]);\n\n  // multiple select content\n  const multipleContent = useMemo(() => getMultipleContent(cascaderContext), [cascaderContext]);\n\n  const showPlaceholder = useMemo(\n    () => getPlaceholderShow(cascaderContext, singleContent, multipleContent),\n    [cascaderContext, singleContent, multipleContent],\n  );\n\n  const content = !showPlaceholder ? (\n    <InnerContent\n      isHover={isHover}\n      cascaderContext={cascaderContext}\n      listeners={listeners}\n      collapsedItems={collapsedItems}\n      placeholder={placeholder}\n    />\n  ) : (\n    <span className={`${prefix}-cascader__placeholder`}>{placeholder || '请选择'}</span>\n  );\n  return content;\n};\n\nconst InputContent: React.FC<InputContentProps> = (props: InputContentProps) => {\n  const { cascaderContext, className, style, placeholder, listeners, collapsedItems } = props;\n\n  const { classPrefix: prefix } = useConfig();\n\n  const [isHover, setIsHover] = useState(false);\n\n  // inner class\n  const CLASSNAMES = useCommonClassName();\n  const cascaderInnerClasses = useMemo(\n    () => classNames(getCascaderInnerClasses(prefix, CLASSNAMES, cascaderContext), className),\n    [prefix, CLASSNAMES, cascaderContext, className],\n  );\n\n  /**\n   * outside click\n   */\n  const inputContentRef = useRef<HTMLDivElement>();\n  // handle click outside\n  useEffect(() => {\n    const outerClickListenerFn = (event: MouseEvent | TouchEvent) =>\n      outerClickListenerEffect(inputContentRef.current as HTMLElement, cascaderContext, event);\n\n    document.addEventListener('click', outerClickListenerFn);\n\n    const { width } = inputContentRef.current.getBoundingClientRect();\n    cascaderContext.setInputWidth(width);\n\n    return () => {\n      document.removeEventListener('click', outerClickListenerFn);\n    };\n  }, [cascaderContext]);\n\n  const closeIconClass = useMemo(\n    () => classNames(getCloseIconClass(prefix, CLASSNAMES, cascaderContext)),\n    [prefix, CLASSNAMES, cascaderContext],\n  );\n\n  const fakeArrowIconClass = useMemo(\n    () => classNames(getFakeArrowIconClass(prefix, CLASSNAMES, cascaderContext)),\n    [prefix, CLASSNAMES, cascaderContext],\n  );\n\n  const closeShow = useMemo(() => getCloseShow(isHover, cascaderContext), [isHover, cascaderContext]);\n\n  return (\n    <div\n      className={cascaderInnerClasses}\n      style={style}\n      onMouseEnter={() => {\n        setIsHover(true);\n      }}\n      onMouseLeave={() => {\n        setIsHover(false);\n      }}\n      ref={inputContentRef}\n      onClick={(e: React.MouseEvent) => {\n        e.preventDefault();\n        innerContentClickEffect(cascaderContext);\n      }}\n    >\n      <Content\n        cascaderContext={cascaderContext}\n        isHover={isHover}\n        collapsedItems={collapsedItems}\n        placeholder={placeholder}\n        listeners={listeners}\n      />\n      <SuffixIcon\n        cascaderContext={cascaderContext}\n        closeShow={closeShow}\n        closeIconClass={closeIconClass}\n        fakeArrowIconClass={fakeArrowIconClass}\n        listeners={listeners}\n      />\n    </div>\n  );\n};\n\nexport default InputContent;\n"],"names":["SuffixIcon","props","cascaderContext","closeShow","fakeArrowIconClass","closeIconClass","visible","disabled","size","closeIconClick","e","stopPropagation","closeIconClickEffect","React","createElement","CloseCircleFilledIcon","className","onClick","FakeArrow","overlayClassName","isActive","InnerContent","listeners","placeholder","collapsedItems","useConfig","prefix","classPrefix","multiple","filterable","setFilterActive","inputVal","setInputVal","minCollapsedNum","onFocus","onBlur","onRemove","singleContent","useMemo","getSingleContent","multipleContent","getMultipleContent","renderSelfTag","node","index","Tag","closable","key","onClose","ctx","handleRemoveTagEffect","label","generalContent","Fragment","length","slice","map","inputPlaceholder","join","filterContent","Input","value","onChange","autofocus","v","context","isFunction","showFilter","Content","isHover","showPlaceholder","getPlaceholderShow","content","InputContent","style","useState","_slicedToArray","setIsHover","CLASSNAMES","useCommonClassName","cascaderInnerClasses","classNames","getCascaderInnerClasses","inputContentRef","useRef","useEffect","outerClickListenerFn","event","outerClickListenerEffect","current","document","addEventListener","getBoundingClientRect","width","setInputWidth","removeEventListener","getCloseIconClass","getFakeArrowIconClass","getCloseShow","onMouseEnter","onMouseLeave","ref","preventDefault","innerContentClickEffect"],"mappings":"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"}