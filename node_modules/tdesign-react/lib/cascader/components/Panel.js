/**
 * tdesign v0.34.4
 * (c) 2022 tdesign
 * @license MIT
 */

'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var defineProperty = require('../../_chunks/dep-a1655de1.js');
var React = require('react');
var classNames = require('classnames');
var _util_useConfig = require('../../_util/useConfig.js');
var cascader_utils_panel = require('../utils/panel.js');
var cascader_components_Item = require('./Item.js');
require('../../_chunks/dep-38a46f48.js');
require('../../_chunks/dep-8a149e9f.js');
require('../../_chunks/dep-3b69722d.js');
require('../../_chunks/dep-fde4d28a.js');
require('../../_chunks/dep-e266830c.js');
require('../../_chunks/dep-fcf32c81.js');
require('../../_chunks/dep-3405bda4.js');
require('../../_chunks/dep-15a4424e.js');
require('../../_chunks/dep-c40d75ac.js');
require('../../_chunks/dep-910dcfa3.js');
require('../../_chunks/dep-633a5671.js');
require('../../_chunks/dep-9c339ffc.js');
require('../../_chunks/dep-b1a67107.js');
require('../../_chunks/dep-ab43c961.js');
require('../../_chunks/dep-9cacaf01.js');
require('../../_chunks/dep-c72c7229.js');
require('../../_chunks/dep-8e0a771d.js');
require('../../_chunks/dep-c90cc28f.js');
require('../../_chunks/dep-542cc308.js');
require('../../_chunks/dep-c6637e11.js');
require('../../_common/js/global-config/locale/zh_CN.js');
require('../../config-provider/zh_CN_config.js');
require('../../_chunks/dep-3cf9becb.js');
require('../../_chunks/dep-19841e1d.js');
require('../../_chunks/dep-bc80a1a5.js');
require('tdesign-icons-react');
require('../../_util/useCommonClassName.js');
require('../../_util/useRipple.js');
require('../../_util/useAnimation.js');
require('../../_util/setStyle.js');
require('../../_util/dom.js');
require('raf');
require('../../_chunks/dep-1d819290.js');
require('../../_util/easing.js');
require('../utils/item.js');
require('../../_chunks/dep-f6a4bdd5.js');
require('../utils/helper.js');
require('../../loading/index.js');
require('../../loading/Loading.js');
require('../../common/Portal.js');
require('react-dom');
require('../../loading/gradient.js');
require('../../_common/js/loading/circle-adapter.js');
require('../../_common/js/utils/set-style.js');
require('../../_common/js/utils/helper.js');
require('../../_chunks/dep-23535a52.js');
require('../../loading/defaultProps.js');
require('../../loading/plugin.js');
require('../../tooltip/Tooltip.js');
require('../../popup/index.js');
require('../../popup/Popup.js');
require('react-transition-group');
require('react-popper');
require('../../hooks/useControlled.js');
require('../../_chunks/dep-f3090217.js');
require('../../_chunks/dep-d4a0b3f0.js');
require('../../_chunks/dep-6dfb2577.js');
require('../../_chunks/dep-86abec96.js');
require('../../_chunks/dep-cb0f33ac.js');
require('../../_util/noop.js');
require('../../_util/composeRefs.js');
require('../../popup/hooks/useTriggerProps.js');
require('../../_util/useClickOutside.js');
require('../../popup/utils/getTransitionParams.js');
require('../../_util/useMutationObserver.js');
require('../../_chunks/dep-85b3eaa4.js');
require('../../_chunks/dep-e19f22f6.js');
require('../../_util/useWindowSize.js');
require('../../popup/defaultProps.js');
require('../../tooltip/defaultProps.js');
require('../../_chunks/dep-bc4205a0.js');
require('../../_util/forwardRefWithStatics.js');
require('hoist-non-react-statics');
require('../../common/Check.js');
require('../../_util/helper.js');
require('../../_chunks/dep-e3db5727.js');
require('../../checkbox/defaultProps.js');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var React__default = /*#__PURE__*/_interopDefaultLegacy(React);
var classNames__default = /*#__PURE__*/_interopDefaultLegacy(classNames);

var Panel = function Panel(props) {
  var _props$cascaderContex = props.cascaderContext,
      filterActive = _props$cascaderContex.filterActive,
      treeNodes = _props$cascaderContex.treeNodes,
      inputWidth = _props$cascaderContex.inputWidth,
      cascaderContext = props.cascaderContext,
      empty = props.empty;
  var panels = React.useMemo(function () {
    return cascader_utils_panel.getPanels(treeNodes);
  }, [treeNodes]);

  var handleExpand = function handleExpand(ctx, trigger) {
    var node = ctx.node;
    var propsTrigger = props.trigger,
        cascaderContext2 = props.cascaderContext;
    cascader_utils_panel.expendClickEffect(propsTrigger, trigger, node, cascaderContext2);
  };

  var handleChange = function handleChange(ctx) {
    var node = ctx.node;
    cascader_utils_panel.valueChangeEffect(node, cascaderContext);
  };

  var _useConfig = _util_useConfig["default"](),
      classPrefix = _useConfig.classPrefix;

  var name = "".concat(classPrefix, "-cascader");
  var renderEmpty = /* @__PURE__ */React__default["default"].createElement("div", {
    className: "".concat(name, "__panel--empty")
  }, empty);

  var renderItem = function renderItem(node, index) {
    return /* @__PURE__ */React__default["default"].createElement(cascader_components_Item["default"], {
      key: index,
      node: node,
      cascaderContext: cascaderContext,
      onClick: function onClick(ctx) {
        handleExpand(ctx, "click");
      },
      onMouseEnter: function onMouseEnter(ctx) {
        handleExpand(ctx, "hover");
      },
      onChange: handleChange
    });
  };

  var panelsContainer = panels.map(function (panel, index) {
    return /* @__PURE__ */React__default["default"].createElement("ul", {
      className: classNames__default["default"]("".concat(name, "__menu"), "narrow-scrollbar", defineProperty._defineProperty({}, "".concat(name, "__menu--segment"), index !== panels.length - 1)),
      key: index
    }, panel.map(function (node, index2) {
      return renderItem(node, index2);
    }));
  });
  var filterPanelsContainer = /* @__PURE__ */React__default["default"].createElement("ul", {
    className: classNames__default["default"]("".concat(name, "__menu"), "narrow-scrollbar", "".concat(name, "__menu--segment"), "".concat(name, "__menu--filter"))
  }, treeNodes.map(function (node, index) {
    return renderItem(node, index);
  }));
  var renderPanels = filterActive ? filterPanelsContainer : panelsContainer;
  return /* @__PURE__ */React__default["default"].createElement("div", {
    className: classNames__default["default"]("".concat(name, "__panel"), defineProperty._defineProperty({}, "".concat(name, "--normal"), panels.length)),
    style: {
      width: panels.length === 0 ? "".concat(inputWidth, "px") : null
    }
  }, panels && panels.length ? renderPanels : renderEmpty);
};

exports["default"] = Panel;
//# sourceMappingURL=Panel.js.map
