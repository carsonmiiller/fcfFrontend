{"version":3,"file":"Input.js","sources":["../../src/input/Input.tsx"],"sourcesContent":["import React, { useState, useRef, useImperativeHandle, useEffect } from 'react';\nimport classNames from 'classnames';\nimport { CloseCircleFilledIcon, BrowseOffIcon, BrowseIcon } from 'tdesign-icons-react';\nimport isFunction from 'lodash/isFunction';\nimport forwardRefWithStatics from '../_util/forwardRefWithStatics';\nimport useConfig from '../_util/useConfig';\nimport { getCharacterLength } from '../_util/helper';\nimport { TdInputProps } from './type';\nimport { StyledProps, TNode } from '../common';\nimport InputGroup from './InputGroup';\nimport useControlled from '../hooks/useControlled';\nimport { useLocaleReceiver } from '../locale/LocalReceiver';\nimport { inputDefaultProps } from './defaultProps';\n\nexport interface InputProps extends TdInputProps, StyledProps {}\n\nexport interface InputRefInterface extends React.RefObject<unknown> {\n  currentElement: HTMLDivElement;\n  inputElement: HTMLInputElement;\n  focus: () => void;\n  blur: () => void;\n  select: () => void;\n}\n\nconst renderIcon = (classPrefix: string, type: 'prefix' | 'suffix', icon: TNode) => {\n  let result: React.ReactNode = null;\n\n  if (icon) result = icon;\n\n  if (typeof icon === 'function') result = icon();\n\n  const iconClassName = icon ? `${classPrefix}-input__${type}-icon` : '';\n\n  if (result) {\n    result = <span className={`${classPrefix}-input__${type} ${iconClassName}`}>{result}</span>;\n  }\n\n  return result;\n};\n\nconst Input = forwardRefWithStatics(\n  (props: InputProps, ref) => {\n    // 国际化文本初始化\n    const [local, t] = useLocaleReceiver('input');\n    const {\n      type,\n      autoWidth,\n      placeholder = t(local.placeholder),\n      disabled,\n      status,\n      size,\n      className,\n      inputClass,\n      style,\n      prefixIcon,\n      suffixIcon,\n      clearable,\n      tips,\n      align,\n      maxlength,\n      maxcharacter,\n      showClearIconOnEmpty,\n      autofocus,\n      autocomplete,\n      readonly,\n      label,\n      suffix,\n      format,\n      onClick,\n      onClear,\n      onEnter,\n      onKeydown,\n      onKeyup,\n      onKeypress,\n      onFocus,\n      onBlur,\n      onPaste,\n      onMouseenter,\n      onMouseleave,\n      onWheel,\n      onCompositionstart,\n      onCompositionend,\n      onChange: onChangeFromProps,\n      ...restProps\n    } = props;\n\n    const [value, onChange] = useControlled(props, 'value', onChangeFromProps);\n\n    const { classPrefix } = useConfig();\n    const composingRef = useRef(false);\n    const inputRef: React.RefObject<HTMLInputElement> = useRef();\n    // inputPreRef 用于预存输入框宽度，应用在 auto width 模式中\n    const inputPreRef: React.RefObject<HTMLInputElement> = useRef();\n    const wrapperRef: React.RefObject<HTMLDivElement> = useRef();\n    const [isHover, toggleIsHover] = useState(false);\n    const [isFocused, toggleIsFocused] = useState(false);\n    const [renderType, setRenderType] = useState(type);\n\n    const [composingRefValue, setComposingValue] = useState<string>('');\n    const isShowClearIcon = ((clearable && value && !disabled) || showClearIconOnEmpty) && isHover;\n\n    const prefixIconContent = renderIcon(classPrefix, 'prefix', prefixIcon);\n    let suffixIconNew = suffixIcon;\n\n    if (isShowClearIcon)\n      suffixIconNew = <CloseCircleFilledIcon className={`${classPrefix}-input__suffix-clear`} onClick={handleClear} />;\n    if (type === 'password' && typeof suffixIcon === 'undefined') {\n      if (renderType === 'password') {\n        suffixIconNew = (\n          <BrowseOffIcon className={`${classPrefix}-input__suffix-clear`} onClick={togglePasswordVisible} />\n        );\n      } else if (renderType === 'text') {\n        suffixIconNew = <BrowseIcon className={`${classPrefix}-input__suffix-clear`} onClick={togglePasswordVisible} />;\n      }\n    }\n\n    const suffixIconContent = renderIcon(classPrefix, 'suffix', suffixIconNew);\n    const labelContent = isFunction(label) ? label() : label;\n    const suffixContent = isFunction(suffix) ? suffix() : suffix;\n\n    useEffect(() => {\n      if (!autoWidth) return;\n      inputRef.current.style.width = `${inputPreRef.current.offsetWidth}px`;\n    }, [autoWidth, value, placeholder]);\n\n    useEffect(() => {\n      setRenderType(type);\n    }, [type]);\n\n    const renderInput = (\n      <input\n        ref={inputRef}\n        placeholder={placeholder}\n        type={renderType}\n        className={`${classPrefix}-input__inner`}\n        value={composingRef.current ? composingRefValue : value ?? ''}\n        readOnly={readonly}\n        disabled={disabled}\n        autoComplete={autocomplete}\n        autoFocus={autofocus}\n        maxLength={maxlength}\n        onChange={handleChange}\n        onKeyDown={handleKeyDown}\n        onKeyUp={handleKeyUp}\n        onKeyPress={handleKeyPress}\n        onCompositionStart={handleCompositionStart}\n        onCompositionEnd={handleCompositionEnd}\n        onFocus={handleFocus}\n        onBlur={handleBlur}\n        onPaste={handlePaste}\n      />\n    );\n\n    const renderInputNode = (\n      <div\n        className={classNames(inputClass, `${classPrefix}-input`, {\n          [`${classPrefix}-is-readonly`]: readonly,\n          [`${classPrefix}-is-disabled`]: disabled,\n          [`${classPrefix}-is-focused`]: isFocused,\n          [`${classPrefix}-size-s`]: size === 'small',\n          [`${classPrefix}-size-l`]: size === 'large',\n          [`${classPrefix}-size-m`]: size === 'medium',\n          [`${classPrefix}-align-${align}`]: align,\n          [`${classPrefix}-is-${status}`]: status,\n          [`${classPrefix}-input--prefix`]: prefixIcon || labelContent,\n          [`${classPrefix}-input--suffix`]: suffixIconContent || suffixContent,\n          [`${classPrefix}-input--focused`]: isFocused,\n        })}\n        onMouseEnter={handleMouseEnter}\n        onMouseLeave={handleMouseLeave}\n        onWheel={handleWheel}\n        onClick={(e) => onClick?.({ e })}\n      >\n        {prefixIconContent}\n        {labelContent ? <div className={`${classPrefix}-input__prefix`}>{labelContent}</div> : null}\n        {renderInput}\n        {autoWidth && (\n          <span ref={inputPreRef} className={`${classPrefix}-input__input-pre`}>\n            {value || props.placeholder}\n          </span>\n        )}\n        {suffixContent ? <div className={`${classPrefix}-input__suffix`}>{suffixContent}</div> : null}\n        {suffixIconContent}\n      </div>\n    );\n\n    function togglePasswordVisible() {\n      const toggleType = renderType === 'password' ? 'text' : 'password';\n      setRenderType(toggleType);\n    }\n\n    function handleChange(e: React.ChangeEvent<HTMLInputElement> | React.CompositionEvent<HTMLInputElement>) {\n      let { value } = e.currentTarget;\n      if (composingRef.current) {\n        setComposingValue(value);\n      } else {\n        if (typeof maxcharacter === 'number' && maxcharacter >= 0) {\n          const stringInfo = getCharacterLength(value, maxcharacter);\n          value = typeof stringInfo === 'object' && stringInfo.characters;\n        }\n        onChange(value, { e });\n      }\n    }\n    function handleClear(e: React.MouseEvent<SVGSVGElement>) {\n      onChange?.('', { e });\n      onClear?.({ e });\n    }\n    function handleKeyDown(e: React.KeyboardEvent<HTMLInputElement>) {\n      const {\n        key,\n        currentTarget: { value },\n      } = e;\n      key === 'Enter' && onEnter?.(value, { e });\n      onKeydown?.(value, { e });\n    }\n    function handleKeyUp(e: React.KeyboardEvent<HTMLInputElement>) {\n      const {\n        currentTarget: { value },\n      } = e;\n      onKeyup?.(value, { e });\n    }\n    function handleKeyPress(e: React.KeyboardEvent<HTMLInputElement>) {\n      const {\n        currentTarget: { value },\n      } = e;\n      onKeypress?.(value, { e });\n    }\n    function handleCompositionStart(e: React.CompositionEvent<HTMLInputElement>) {\n      composingRef.current = true;\n      const {\n        currentTarget: { value },\n      } = e;\n      onCompositionstart?.(value, { e });\n    }\n    function handleCompositionEnd(e: React.CompositionEvent<HTMLInputElement>) {\n      const {\n        currentTarget: { value },\n      } = e;\n      if (composingRef.current) {\n        composingRef.current = false;\n        handleChange(e);\n      }\n      setComposingValue('');\n      onCompositionend?.(value, { e });\n    }\n\n    function handleFocus(e: React.FocusEvent<HTMLInputElement>) {\n      if (readonly) return;\n      const {\n        currentTarget: { value },\n      } = e;\n      onFocus?.(value, { e });\n      toggleIsFocused(true);\n    }\n\n    function handleBlur(e: React.FocusEvent<HTMLInputElement>) {\n      if (readonly) return;\n      const {\n        currentTarget: { value },\n      } = e;\n      format && onChange(format(value), { e });\n      onBlur?.(value, { e });\n      toggleIsFocused(false);\n    }\n\n    function handlePaste(e: React.ClipboardEvent<HTMLInputElement>) {\n      const clipData = e.clipboardData;\n      const pasteValue = clipData?.getData('text/plain');\n      onPaste?.({ e, pasteValue });\n    }\n\n    function handleMouseEnter(e: React.MouseEvent<HTMLDivElement>) {\n      toggleIsHover(true);\n      onMouseenter?.({ e });\n    }\n\n    function handleMouseLeave(e: React.MouseEvent<HTMLDivElement>) {\n      toggleIsHover(false);\n      onMouseleave?.({ e });\n    }\n\n    function handleWheel(e: React.WheelEvent<HTMLDivElement>) {\n      onWheel?.({ e });\n    }\n\n    useImperativeHandle(ref as InputRefInterface, () => ({\n      currentElement: wrapperRef.current,\n      inputElement: inputRef.current,\n      focus: () => inputRef.current?.focus(),\n      blur: () => inputRef.current?.blur(),\n      select: () => inputRef.current?.select(),\n    }));\n\n    return (\n      <div\n        ref={wrapperRef}\n        style={style}\n        className={classNames(className, `${classPrefix}-input__wrap`, {\n          [`${classPrefix}-input--auto-width`]: autoWidth,\n        })}\n        {...restProps}\n      >\n        {renderInputNode}\n        {tips && (\n          <div\n            className={classNames(`${classPrefix}-input__tips`, `${classPrefix}-input__tips--${status || 'normal'}`)}\n          >\n            {tips}\n          </div>\n        )}\n      </div>\n    );\n  },\n  { Group: InputGroup },\n);\n\nInput.displayName = 'Input';\nInput.defaultProps = inputDefaultProps;\n\nexport default Input;\n"],"names":["renderIcon","classPrefix","type","icon","result","iconClassName","React","createElement","className","Input","forwardRefWithStatics","props","ref","useLocaleReceiver","_slicedToArray","local","t","autoWidth","placeholder","disabled","status","size","inputClass","style","prefixIcon","suffixIcon","clearable","tips","align","maxlength","maxcharacter","showClearIconOnEmpty","autofocus","autocomplete","readonly","label","suffix","format","onClick","onClear","onEnter","onKeydown","onKeyup","onKeypress","onFocus","onBlur","onPaste","onMouseenter","onMouseleave","onWheel","onCompositionstart","onCompositionend","onChangeFromProps","onChange","restProps","useControlled","value","useConfig","composingRef","useRef","inputRef","inputPreRef","wrapperRef","useState","isHover","toggleIsHover","isFocused","toggleIsFocused","renderType","setRenderType","composingRefValue","setComposingValue","isShowClearIcon","prefixIconContent","suffixIconNew","CloseCircleFilledIcon","handleClear","BrowseOffIcon","togglePasswordVisible","BrowseIcon","suffixIconContent","labelContent","isFunction","suffixContent","useEffect","current","width","offsetWidth","renderInput","readOnly","autoComplete","autoFocus","maxLength","handleChange","onKeyDown","handleKeyDown","onKeyUp","handleKeyUp","onKeyPress","handleKeyPress","onCompositionStart","handleCompositionStart","onCompositionEnd","handleCompositionEnd","handleFocus","handleBlur","handlePaste","renderInputNode","classNames","_defineProperty","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","handleWheel","e","toggleType","value2","currentTarget","stringInfo","getCharacterLength","_typeof","characters","key","clipData","clipboardData","pasteValue","getData","useImperativeHandle","currentElement","inputElement","focus","blur","select","Group","InputGroup","displayName","defaultProps","inputDefaultProps"],"mappings":"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"}