/**
 * tdesign v0.34.4
 * (c) 2022 tdesign
 * @license MIT
 */

'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var _typeof = require('../_chunks/dep-3405bda4.js');
var notification_NotificationList = require('../_chunks/dep-4d98b86d.js');
require('../_chunks/dep-a1655de1.js');
require('react');
require('classnames');
require('tdesign-icons-react');
require('../_chunks/dep-f6a4bdd5.js');
require('../_chunks/dep-19841e1d.js');
require('../_chunks/dep-3cf9becb.js');
require('react-dom');
require('../_util/useConfig.js');
require('../_chunks/dep-38a46f48.js');
require('../_chunks/dep-8a149e9f.js');
require('../_chunks/dep-3b69722d.js');
require('../_chunks/dep-fde4d28a.js');
require('../_chunks/dep-e266830c.js');
require('../_chunks/dep-fcf32c81.js');
require('../_chunks/dep-15a4424e.js');
require('../_chunks/dep-c40d75ac.js');
require('../_chunks/dep-910dcfa3.js');
require('../_chunks/dep-633a5671.js');
require('../_chunks/dep-9c339ffc.js');
require('../_chunks/dep-b1a67107.js');
require('../_chunks/dep-ab43c961.js');
require('../_chunks/dep-9cacaf01.js');
require('../_chunks/dep-c72c7229.js');
require('../_chunks/dep-8e0a771d.js');
require('../_chunks/dep-c90cc28f.js');
require('../_chunks/dep-542cc308.js');
require('../_chunks/dep-c6637e11.js');
require('../_common/js/global-config/locale/zh_CN.js');
require('../config-provider/zh_CN_config.js');
require('../_util/noop.js');
require('./defaultProps.js');

var renderNotification = function renderNotification(theme, options) {
  if (_typeof._typeof(options) !== "object") return;

  var placement = function () {
    if (["top-left", "top-right", "bottom-left", "bottom-right"].indexOf(options.placement) >= 0) {
      return options.placement;
    }

    return "top-right";
  }();

  var attach = function () {
    if (options.attach && typeof options.attach === "string") {
      var element2 = document.querySelector(options.attach);
      if (element2 instanceof HTMLElement) return element2;
    }

    if (options.attach instanceof HTMLElement) return options.attach;
    var containerId = "tdesign-notification-".concat(placement);
    var container = document.querySelector("#".concat(containerId));

    if (container && container instanceof HTMLElement) {
      return container;
    }

    var element = document.createElement("div");
    element.setAttribute("id", containerId);
    document.body.appendChild(element);
    return element;
  }();

  var zIndex = options.zIndex || 6e3;
  return notification_NotificationList.fetchListInstance(placement, attach, zIndex).then(function (listInstance) {
    return listInstance.push(theme, options);
  });
};

var NotificationPlugin = function NotificationPlugin(theme, props) {
  return renderNotification(theme, props);
};

NotificationPlugin.info = function (options) {
  return renderNotification("info", options);
};

NotificationPlugin.success = function (options) {
  return renderNotification("success", options);
};

NotificationPlugin.warning = function (options) {
  return renderNotification("warning", options);
};

NotificationPlugin.error = function (options) {
  return renderNotification("error", options);
};

NotificationPlugin.close = function (promise) {
  return promise.then(function (instance) {
    return instance.close();
  });
};

NotificationPlugin.closeAll = function () {
  return notification_NotificationList.listMap.forEach(function (list) {
    return list.removeAll();
  });
};

exports.NotificationPlugin = NotificationPlugin;
//# sourceMappingURL=NotificationPlugin.js.map
