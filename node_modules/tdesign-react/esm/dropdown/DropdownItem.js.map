{"version":3,"file":"DropdownItem.js","sources":["../../src/dropdown/DropdownItem.tsx"],"sourcesContent":["import React, { forwardRef, useRef } from 'react';\nimport classNames from 'classnames';\nimport { ChevronRightIcon as TIconChevronRight } from 'tdesign-icons-react';\nimport { DropdownOption, TdDropdownProps } from './type';\nimport useConfig from '../_util/useConfig';\nimport useRipple from '../_util/useRipple';\nimport { pxCompat } from '../_util/helper';\nimport TDivider from '../divider';\nimport { dropdownItemDefaultProps } from './defaultProps';\n\ntype DropdownItemProps = Pick<DropdownOption, 'content' | 'value' | 'divider' | 'onClick'> &\n  Pick<TdDropdownProps, 'maxColumnWidth' | 'minColumnWidth'> & {\n    path?: string;\n    hasChildren?: boolean;\n    active?: boolean;\n    disabled?: boolean;\n    onHover?: (path: string) => void;\n    children?: React.ReactChild;\n  };\n\nconst DropdownItem = forwardRef((props: DropdownItemProps, ref: React.RefObject<HTMLButtonElement>) => {\n  const {\n    path = '',\n    hasChildren = false,\n    maxColumnWidth,\n    minColumnWidth,\n    active,\n    disabled,\n    content,\n    value,\n    divider,\n    children,\n  } = props;\n  const { classPrefix } = useConfig();\n  const dropdownItemRef = useRef(null);\n\n  useRipple(ref || dropdownItemRef);\n\n  const dropdownItemClass = `${classPrefix}-dropdown__item`;\n  const renderSuffix = () =>\n    hasChildren ? <TIconChevronRight className={`${classPrefix}-dropdown__item-icon`} /> : null;\n  const handleItemClick = (e: React.MouseEvent<HTMLDivElement, MouseEvent>): void => {\n    if (!hasChildren && !disabled) {\n      const data = {\n        value,\n        path,\n        content,\n      };\n      props?.onClick?.(data, { e });\n    }\n  };\n  const handleMouseover = (): void => {\n    props.onHover(path);\n  };\n  return (\n    <div>\n      <div\n        className={classNames(dropdownItemClass, {\n          [`${classPrefix}-dropdown--suffix`]: hasChildren,\n          [`${classPrefix}-is-disabled`]: disabled,\n          [`${classPrefix}-is-active`]: active,\n        })}\n        style={{\n          maxWidth: pxCompat(maxColumnWidth),\n          minWidth: pxCompat(minColumnWidth),\n        }}\n        onClick={handleItemClick}\n        onMouseOver={handleMouseover}\n        ref={ref || dropdownItemRef}\n      >\n        <div className={`${dropdownItemClass}-content`}>\n          <span className={`${dropdownItemClass}-text`}>{children || content}</span>\n        </div>\n        {renderSuffix()}\n      </div>\n      {divider ? <TDivider /> : null}\n    </div>\n  );\n});\n\nDropdownItem.displayName = 'DropdownItem';\nDropdownItem.defaultProps = dropdownItemDefaultProps;\n\nexport default DropdownItem;\n"],"names":["DropdownItem","forwardRef","props","ref","path","hasChildren","maxColumnWidth","minColumnWidth","active","disabled","content","value","divider","children","useConfig","classPrefix","dropdownItemRef","useRef","useRipple","dropdownItemClass","renderSuffix","React","createElement","TIconChevronRight","className","handleItemClick","e","data","onClick","handleMouseover","onHover","classNames","style","maxWidth","pxCompat","minWidth","onMouseOver","TDivider","displayName","defaultProps","dropdownItemDefaultProps"],"mappings":"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"}