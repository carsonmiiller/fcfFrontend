{"version":3,"file":"checkSubMenuChildExpanded.js","sources":["../../../src/menu/_util/checkSubMenuChildExpanded.ts"],"sourcesContent":["import React from 'react';\nimport { MenuValue } from '../type';\nimport { MenuBlockType } from './type';\n\nexport default function checkSubMenuChildExpanded(\n  children: React.ReactNode,\n  expanded: MenuValue[],\n  value: MenuValue,\n  resultExpanded: MenuValue[] = [],\n) {\n  const childValues = React.Children.map(children, (child: React.ReactElement) => child.props.value);\n  // 直接找到了目标节点\n  const index = childValues.indexOf(value);\n  // 找到对应的子节点\n  const child = children[index];\n  // 如果是 submenu 并且子节点存在\n  if (index > -1 && child?.type?.displayName === MenuBlockType.SubMenu) {\n    return [...resultExpanded, value];\n  }\n  // 否则寻找当前展开的节点是否是祖先节点\n  const expandedIndex = childValues.indexOf(expanded[0]);\n  const expandedChild = children[expandedIndex];\n  if (expandedIndex > -1 && expandedChild?.type?.displayName === MenuBlockType.SubMenu) {\n    return checkSubMenuChildExpanded(expandedChild.props.children, expanded.slice(1), value, [\n      ...resultExpanded,\n      expanded[0],\n    ]);\n  }\n\n  return [value];\n}\n"],"names":["checkSubMenuChildExpanded","children","expanded","value","resultExpanded","childValues","React","Children","map","child2","props","index","indexOf","child","type","displayName","MenuBlockType","SubMenu","expandedIndex","expandedChild","slice"],"mappings":";;;;;;;;;;;AAEe,SAASA,yBAAT,CAAmCC,QAAnC,EAA6CC,QAA7C,EAAuDC,KAAvD,EAAmF;AAAA,EAAA,IAAA,WAAA,EAAA,mBAAA,CAAA;;EAAA,IAArBC,cAAqB,uEAAJ,EAAI,CAAA;EAChG,IAAMC,WAAW,GAAGC,KAAK,CAACC,QAAN,CAAeC,GAAf,CAAmBP,QAAnB,EAA6B,UAACQ,MAAD,EAAA;AAAA,IAAA,OAAYA,MAAM,CAACC,KAAP,CAAaP,KAAzB,CAAA;AAAA,GAA7B,CAApB,CAAA;AACA,EAAA,IAAMQ,KAAK,GAAGN,WAAW,CAACO,OAAZ,CAAoBT,KAApB,CAAd,CAAA;AACA,EAAA,IAAMU,KAAK,GAAGZ,QAAQ,CAACU,KAAD,CAAtB,CAAA;;EACA,IAAIA,KAAK,GAAG,CAAC,CAAT,IAAc,CAAAE,KAAK,SAAL,IAAAA,KAAK,WAAL,GAAAA,KAAAA,CAAAA,GAAAA,CAAAA,WAAAA,GAAAA,KAAK,CAAEC,IAAP,MAAA,IAAA,IAAA,WAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,WAAA,CAAaC,WAAb,MAA6BC,aAAa,CAACC,OAA7D,EAAsE;IACpE,OAAWb,EAAAA,CAAAA,MAAAA,CAAAA,kBAAAA,CAAAA,cAAX,IAA2BD,KAA3B,CAAA,CAAA,CAAA;AACD,GAAA;;EACD,IAAMe,aAAa,GAAGb,WAAW,CAACO,OAAZ,CAAoBV,QAAQ,CAAC,CAAD,CAA5B,CAAtB,CAAA;AACA,EAAA,IAAMiB,aAAa,GAAGlB,QAAQ,CAACiB,aAAD,CAA9B,CAAA;;EACA,IAAIA,aAAa,GAAG,CAAC,CAAjB,IAAsB,CAAAC,aAAa,SAAb,IAAAA,aAAa,WAAb,GAAAA,KAAAA,CAAAA,GAAAA,CAAAA,mBAAAA,GAAAA,aAAa,CAAEL,IAAf,MAAA,IAAA,IAAA,mBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,mBAAA,CAAqBC,WAArB,MAAqCC,aAAa,CAACC,OAA7E,EAAsF;IACpF,OAAOjB,yBAAyB,CAACmB,aAAa,CAACT,KAAd,CAAoBT,QAArB,EAA+BC,QAAQ,CAACkB,KAAT,CAAe,CAAf,CAA/B,EAAkDjB,KAAlD,EAC3BC,EAAAA,CAAAA,MAAAA,CAAAA,kBAAAA,CAAAA,cAD2B,IAE9BF,QAAQ,CAAC,CAAD,CAFsB,CAAhC,CAAA,CAAA,CAAA;AAID,GAAA;;EACD,OAAO,CAACC,KAAD,CAAP,CAAA;AACD;;;;"}