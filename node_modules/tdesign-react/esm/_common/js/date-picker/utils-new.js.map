{"version":3,"file":"utils-new.js","sources":["../../../../node_modules/dayjs/plugin/isBetween.js","../../../../src/_common/js/date-picker/utils-new.ts"],"sourcesContent":["!function(e,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_isBetween=i()}(this,(function(){\"use strict\";return function(e,i,t){i.prototype.isBetween=function(e,i,s,f){var n=t(e),o=t(i),r=\"(\"===(f=f||\"()\")[0],u=\")\"===f[1];return(r?this.isAfter(n,s):!this.isBefore(n,s))&&(u?this.isBefore(o,s):!this.isAfter(o,s))||(r?this.isBefore(n,s):!this.isAfter(n,s))&&(u?this.isAfter(o,s):!this.isBefore(o,s))}}}));","import dayjs from 'dayjs';\nimport dayJsIsBetween from 'dayjs/plugin/isBetween';\nimport chunk from 'lodash/chunk';\n\ndayjs.extend(dayJsIsBetween);\n\n/**\n * 首字母大写\n * @param {String} str 目标字符串\n * @returns {String}\n */\nexport function firstUpperCase(str: string): string {\n  if (!str) return str;\n  return str[0].toUpperCase().concat(str.substring(1, str.length));\n}\n\ninterface DateObj {\n  year: number;\n  month: number;\n}\n\n/**\n * 返回指定年、月的第一天日期\n * @param {Object} { year, month }\n * @returns {Date}\n */\nfunction getFirstDayOfMonth({ year, month }: DateObj): Date {\n  return new Date(year, month, 1);\n}\n\n/**\n * 返回指定年、月的天数\n * @param {Object} { year, month }\n * @returns {Number}\n */\nfunction getDaysInMonth({ year, month }: DateObj): number {\n  return new Date(year, month + 1, 0).getDate();\n}\n\n/**\n * 返回指定年、月的最后一天日期\n * @param {Object} { year, month }\n * @returns {Date}\n */\nfunction getLastDayOfMonth({ year, month }: DateObj): Date {\n  return new Date(year, month, getDaysInMonth({ year, month }));\n}\n\nfunction isSameYear(date1: Date, date2: Date): boolean {\n  return date1.getFullYear() === date2.getFullYear();\n}\n\nfunction isSameMonth(date1: Date, date2: Date): boolean {\n  return isSameYear(date1, date2) && date1.getMonth() === date2.getMonth();\n}\n\nfunction isSameDate(date1: Date, date2: Date): boolean {\n  return isSameMonth(date1, date2) && date1.getDate() === date2.getDate();\n}\n\n/**\n * 比较两个日期对象的时间戳\n * @param {Date} date1 日期1\n * @param {Date} date2 日期2\n * @returns {Number} 返回 date1.getTime() - date2.getTime() 的差值\n */\nfunction compareAsc(date1: { getTime: () => any }, date2: Date): number {\n  const d1 = date1.getTime();\n  const d2 = date2.getTime();\n\n  if (d1 < d2) return -1;\n  if (d1 > d2) return 1;\n  return 0;\n}\n\n/**\n * 比较两个 Date 是否是同一天 或则 同一月 或则 同一年\n * @param {Date} date1 比较的日期\n * @param {Date} date2 比较的日期\n * @param {String} type 比较类型，默认比较到『日』 date|month|year\n * @returns {Boolean}\n */\nexport function isSame(date1: Date, date2: Date, type = 'date'): boolean {\n  const func = {\n    isSameYear,\n    isSameMonth,\n    isSameDate,\n  };\n  return func[`isSame${firstUpperCase(type)}`](date1, date2);\n}\n\nexport function outOfRanges(d: Date, min: any, max: any) {\n  return (min && compareAsc(d, min) === -1) || (max && compareAsc(d, max) === 1);\n}\n\n/**\n * @returns {Date} 当天零点的日期对象\n */\nexport function getToday(): Date {\n  const now = new Date();\n  return new Date(now.getFullYear(), now.getMonth(), now.getDate(), 0, 0, 0);\n}\n\n/**\n * 返回日期对象的年、月、日、小时、分钟、秒、12小时制标识\n * @param {Date} date\n * @returns {Object}\n */\nexport function getDateObj(date: Date) {\n  let tempDate = date;\n  if (!(date instanceof Date)) {\n    tempDate = getToday();\n  }\n  return {\n    year: tempDate.getFullYear(),\n    month: tempDate.getMonth(),\n    date: tempDate.getDate(),\n    hours: tempDate.getHours(),\n    minutes: tempDate.getMinutes(),\n    seconds: tempDate.getSeconds(),\n    milliseconds: tempDate.getMilliseconds(),\n    meridiem: tempDate.getHours() > 11 ? 'PM' : 'AM',\n  };\n}\n\n/**\n * 设置日期对象的时间部分\n * @param {Date} date 日期\n * @param {Number} hours 小时\n * @param {Number} minutes 分钟\n * @param {Number} seconds 秒\n * @param {Number} milliseconds 毫秒\n * @returns {Date} 一个新的date\n */\nexport function setDateTime(\n  date: Date,\n  hours: number,\n  minutes: number,\n  seconds: number,\n  milliseconds?: number\n): Date {\n  return dayjs(date)\n    .hour(hours)\n    .minute(minutes)\n    .second(seconds)\n    .millisecond(milliseconds)\n    .toDate();\n}\n\n/**\n * 减少月份\n * @param {Date} date 起始日期\n * @param {Number} num 月份数\n * @returns {Date}\n */\nexport function subtractMonth(date: Date, num: number): Date {\n  return dayjs(date).subtract(num, 'month').toDate();\n}\n\n/**\n * 增加月份\n * @param {Date} date 起始日期\n * @param {Number} num 月份数\n * @returns {Date}\n */\nexport function addMonth(date: Date, num: number): Date {\n  return dayjs(date).add(num, 'month').toDate();\n}\n\nexport type DateValue = string | Date | number;\nexport interface DisableDateObj { from?: string; to?: string; before?: string; after?: string }\nexport type DisableDate = Array<DateValue> | DisableDateObj | ((date: DateValue) => boolean);\n\nexport interface OptionsType {\n  firstDayOfWeek: number;\n  disableDate: DisableDate;\n  minDate: Date;\n  maxDate: Date;\n  monthLocal?: string[];\n}\n\nexport function getWeeks(\n  { year, month }: { year: number; month: number },\n  {\n    firstDayOfWeek,\n    disableDate = () => false,\n    minDate,\n    maxDate,\n  }: OptionsType,\n) {\n  const prependDay = getFirstDayOfMonth({ year, month });\n  const appendDay = getLastDayOfMonth({ year, month });\n  const maxDays = getDaysInMonth({ year, month });\n  const daysArr = [];\n  let i = 1;\n  const today = getToday();\n  for (i; i <= maxDays; i++) {\n    const currentDay = new Date(year, month, i);\n    daysArr.push({\n      text: i,\n      active: false,\n      value: currentDay,\n      disabled: (typeof disableDate === 'function' && disableDate(currentDay)) || outOfRanges(currentDay, minDate, maxDate),\n      now: isSame(today, currentDay),\n      firstDayOfMonth: i === 1,\n      lastDayOfMonth: i === maxDays,\n      type: 'current-month',\n    });\n  }\n\n  if (prependDay.getDay() !== firstDayOfWeek) {\n    prependDay.setDate(0); // 上一月\n    while (true) {\n      daysArr.unshift({\n        text: prependDay.getDate().toString(),\n        active: false,\n        value: new Date(prependDay),\n        disabled: (typeof disableDate === 'function' && disableDate(prependDay)) || outOfRanges(prependDay, minDate, maxDate),\n        additional: true, // 非当前月\n        type: 'prev-month',\n      });\n      prependDay.setDate(prependDay.getDate() - 1);\n      if (prependDay.getDay() === Math.abs(firstDayOfWeek + 6) % 7) break;\n    }\n  }\n\n  const LEN = 42; // 显示6周\n  while (daysArr.length < LEN) {\n    appendDay.setDate(appendDay.getDate() + 1);\n    daysArr.push({\n      text: appendDay.getDate(),\n      active: false,\n      value: new Date(appendDay),\n      disabled: (typeof disableDate === 'function' && disableDate(appendDay)) || outOfRanges(appendDay, minDate, maxDate),\n      additional: true, // 非当前月\n      type: 'next-month',\n    });\n  }\n\n  return chunk(daysArr, 7);\n}\n\nexport function getYears(\n  year: number,\n  {\n    disableDate = () => false,\n    minDate,\n    maxDate,\n  }: OptionsType,\n) {\n  const startYear = parseInt((year / 10).toString(), 10) * 10;\n  const endYear = startYear + 9;\n\n  const yearArr = [];\n\n  const today = getToday();\n\n  for (let i = startYear; i <= endYear; i++) {\n    const date = new Date(i, 1);\n\n    let disabledMonth = 0;\n    let outOfRangeMonth = 0;\n\n    for (let j = 0; j < 12; j++) {\n      const d = new Date(i, j);\n      if (typeof disableDate === 'function' && disableDate(d)) disabledMonth += 1;\n      if (outOfRanges(d, minDate, maxDate)) outOfRangeMonth += 1;\n    }\n\n    yearArr.push({\n      value: date,\n      now: isSame(date, today, 'year'),\n      disabled: disabledMonth === 12 || outOfRangeMonth === 12,\n      active: false,\n      text: `${date.getFullYear()}`,\n    });\n  }\n\n  return chunk(yearArr, 3);\n}\n\nexport function getMonths(year: number, params: OptionsType) {\n  const {\n    disableDate = () => false, minDate, maxDate, monthLocal,\n  } = params;\n  const MonthArr = [];\n  const today = getToday();\n  for (let i = 0; i <= 11; i++) {\n    const date = new Date(year, i);\n    let disabledDay = 0;\n    let outOfRangeDay = 0;\n    const daysInMonth = getDaysInMonth({ year, month: i });\n\n    for (let j = 1; j <= daysInMonth; j++) {\n      const d = new Date(year, i, j);\n      if (typeof disableDate === 'function' && disableDate(d)) disabledDay += 1;\n      if (outOfRanges(d, minDate, maxDate)) outOfRangeDay += 1;\n    }\n\n    MonthArr.push({\n      value: date,\n      now: isSame(date, today, 'month'),\n      disabled: disabledDay === daysInMonth || outOfRangeDay === daysInMonth,\n      active: false,\n      text: monthLocal[date.getMonth()], // `${date.getMonth() + 1} ${monthText || '月'}`,\n    });\n  }\n\n  return chunk(MonthArr, 3);\n}\n\nexport interface DateTime {\n  additional: boolean;\n  active: boolean;\n  highlight: boolean;\n  hoverHighlight: boolean;\n  startOfRange: boolean;\n  endOfRange: boolean;\n  hoverStartOfRange: boolean;\n  hoverEndOfRange: boolean;\n  value: Date;\n}\n\nexport function flagActive(data: any[], { ...args }: any) {\n  const { start, end, hoverStart, hoverEnd, type = 'date', isRange = false } = args;\n\n  if (!isRange) {\n    return data.map((row: any[]) => row.map((item: DateTime) => {\n      const _item = item;\n      _item.active = start && isSame(item.value, start, type) && !_item.additional;\n      return _item;\n    }));\n  }\n\n  return data.map((row: any[]) => row.map((item: DateTime) => {\n    const _item = item;\n    const date = item.value;\n\n    const isStart = start && isSame(start, date, type);\n    const isHoverStart = hoverStart && isSame(hoverStart, date, type);\n    const isEnd = end && isSame(end, date, type);\n    const isHoverEnd = hoverEnd && isSame(hoverEnd, date, type);\n    _item.active = (isStart || isEnd) && !_item.additional;\n\n    if (start && end) {\n      _item.highlight = dayjs(date).isBetween(start, end, type, '[]') && !_item.additional;\n      _item.startOfRange = isStart;\n      _item.endOfRange = isEnd;\n    }\n\n    if (hoverStart && hoverEnd) {\n      // eslint-disable-next-line\n      _item.hoverHighlight = dayjs(date).isBetween(hoverStart, hoverEnd, type, '[]') && !_item.additional;\n      _item.hoverStartOfRange = isHoverStart;\n      _item.hoverEndOfRange = isHoverEnd;\n    }\n    return _item;\n  }));\n}\n\n// extract time format from a completed date format 'YYYY-MM-DD HH:mm' -> 'HH:mm'\nexport function extractTimeFormat(dateFormat: string = '') {\n  const res = dateFormat.match(/(a\\s)?h{1,2}:m{1,2}(:s{1,2})?(\\sa)?/i);\n  if (!res) return null;\n  return res[0];\n}\n\n/**\n * 返回时间对象的小时、分钟、秒、12小时制标识\n * @param {String} timeFormat 'pm 20:11:11:333'\n * @returns {Object}\n */\nexport function extractTimeObj(timeFormat: string = '') {\n  const matchedMeridiem = timeFormat.match(/[ap]m/i) || [''];\n  const timeReg = /\\d{1,2}:\\d{1,2}(:\\d{1,2})?(:\\d{1,3})?/;\n  const matchedTimeStr = timeFormat.match(timeReg) || ['0:0:0:0'];\n  const [hours = 0, minutes = 0, seconds = 0, milliseconds = 0] = matchedTimeStr[0].split(':');\n\n  return {\n    hours: +hours,\n    minutes: +minutes,\n    seconds: +seconds,\n    milliseconds: +milliseconds,\n    meridiem: matchedMeridiem[0],\n  };\n}\n\n/**\n * 日期是否可用\n * @param {Object} { value, disableDate, mode, format }\n * @returns {Boolean}\n */\nexport function isEnabledDate({\n  value,\n  disableDate,\n  mode,\n  format,\n}: {\n  value: Date;\n  mode: 'year' | 'month' | 'date';\n  format: string;\n  disableDate: DisableDate;\n}): boolean {\n  if (!disableDate) return true;\n\n  let isEnabled = true;\n  // 值类型为 Function 则表示返回值为 true 的日期会被禁用\n  if (typeof disableDate === 'function') {\n    return !disableDate(value);\n  }\n\n  // 禁用日期，示例：['A', 'B'] 表示日期 A 和日期 B 会被禁用。\n  if (Array.isArray(disableDate)) {\n    const formattedDisabledDate = disableDate.map((item: string) => dayjs(item, format));\n    // eslint-disable-next-line\n    const isIncludes = formattedDisabledDate.some(item => item.isSame(dayjs(value)));\n    return !isIncludes;\n  }\n\n  // { from: 'A', to: 'B' } 表示在 A 到 B 之间的日期会被禁用。\n  // eslint-disable-next-line\n  const { from, to, before, after } = disableDate;\n\n  if (from && to) {\n    const compareMin = dayjs(new Date(from));\n    const compareMax = dayjs(new Date(to));\n\n    return !dayjs(value).isBetween(compareMin, compareMax, mode, '[]');\n  }\n\n  const min = before ? new Date(before) : null;\n  const max = after ? new Date(after) : null;\n\n  // { before: 'A', after: 'B' } 表示在 A 之前和在 B 之后的日期都会被禁用。\n  if (max && min) {\n    const compareMin = dayjs(new Date(min));\n    const compareMax = dayjs(new Date(max));\n\n    isEnabled = dayjs(value).isBetween(compareMin, compareMax, mode, '[]');\n  } else if (min) {\n    const compareMin = dayjs(new Date(min));\n    isEnabled = !dayjs(value).isBefore(compareMin, mode);\n  } else if (max) {\n    const compareMax = dayjs(new Date(max));\n    isEnabled = !dayjs(value).isAfter(compareMax, mode);\n  }\n  return isEnabled;\n}\n"],"names":["e","i","module","exports","define","amd","globalThis","self","dayjs_plugin_isBetween","this","t","prototype","isBetween","s","f","n","o","r","u","isAfter","isBefore","dayjs","extend","dayJsIsBetween","firstUpperCase","str","toUpperCase","concat","substring","length","getFirstDayOfMonth","year","month","Date","getDaysInMonth","getDate","getLastDayOfMonth","isSameYear","date1","date2","getFullYear","isSameMonth","getMonth","isSameDate","compareAsc","d1","getTime","d2","isSame","type","func","outOfRanges","d","min","max","getToday","now","getDateObj","date","tempDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","milliseconds","getMilliseconds","meridiem","setDateTime","hour","minute","second","millisecond","toDate","subtractMonth","num","subtract","addMonth","add","getWeeks","firstDayOfWeek","disableDate","minDate","maxDate","prependDay","appendDay","maxDays","daysArr","today","currentDay","push","text","active","value","disabled","firstDayOfMonth","lastDayOfMonth","getDay","setDate","unshift","toString","additional","Math","abs","LEN","chunk","getYears","startYear","parseInt","endYear","yearArr","disabledMonth","outOfRangeMonth","j","getMonths","params","monthLocal","MonthArr","disabledDay","outOfRangeDay","daysInMonth","flagActive","data","args","start","end","hoverStart","hoverEnd","isRange","map","row","item","_item","isStart","isHoverStart","isEnd","isHoverEnd","highlight","startOfRange","endOfRange","hoverHighlight","hoverStartOfRange","hoverEndOfRange","extractTimeFormat","dateFormat","res","match","extractTimeObj","timeFormat","matchedMeridiem","timeReg","matchedTimeStr","split","isEnabledDate","mode","format","isEnabled","Array","isArray","formattedDisabledDate","isIncludes","some","from","to","before","after","compareMin","compareMax"],"mappings":"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"}