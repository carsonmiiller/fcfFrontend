/**
 * tdesign v0.34.4
 * (c) 2022 tdesign
 * @license MIT
 */

import { _ as _defineProperty } from '../../_chunks/dep-08260abc.js';
import React, { useMemo } from 'react';
import classNames from 'classnames';
import useConfig from '../../_util/useConfig.js';
import { getPanels, expendClickEffect, valueChangeEffect } from '../utils/panel.js';
import Item from './Item.js';
import '../../_chunks/dep-e3ed7551.js';
import '../../_chunks/dep-12690e1d.js';
import '../../_chunks/dep-ac0cc4dd.js';
import '../../_chunks/dep-e3ab6b0d.js';
import '../../_chunks/dep-cc4f2bae.js';
import '../../_chunks/dep-531703d1.js';
import '../../_chunks/dep-21baa91f.js';
import '../../_chunks/dep-4705ff31.js';
import '../../_chunks/dep-38424935.js';
import '../../_chunks/dep-ad150068.js';
import '../../_chunks/dep-d5f141ac.js';
import '../../_chunks/dep-1b27e5c2.js';
import '../../_chunks/dep-6963df41.js';
import '../../_chunks/dep-8fb1642c.js';
import '../../_chunks/dep-bcb59ae2.js';
import '../../_chunks/dep-12718f01.js';
import '../../_chunks/dep-09c318fb.js';
import '../../_chunks/dep-048c506f.js';
import '../../_chunks/dep-febf8cf9.js';
import '../../_chunks/dep-074143e4.js';
import '../../_chunks/dep-a1fd625f.js';
import '../../_chunks/dep-f5ab8a5c.js';
import '../../_chunks/dep-67009882.js';
import '../../locale/zh_CN.js';
import '../../_common/js/global-config/locale/zh_CN.js';
import '../../config-provider/zh_CN_config.js';
import '../../_chunks/dep-744640f5.js';
import '../../_chunks/dep-0e5be0b2.js';
import '../../_chunks/dep-1feb6aff.js';
import 'tdesign-icons-react';
import '../../_util/useCommonClassName.js';
import '../../_util/useRipple.js';
import '../../_util/useAnimation.js';
import '../../_util/setStyle.js';
import '../../_util/dom.js';
import 'raf';
import '../../_chunks/dep-60c49e74.js';
import '../../_util/easing.js';
import '../utils/item.js';
import '../../_chunks/dep-bd2639ad.js';
import '../utils/helper.js';
import '../../loading/index.js';
import '../../loading/Loading.js';
import '../../common/Portal.js';
import 'react-dom';
import '../../loading/gradient.js';
import '../../_common/js/loading/circle-adapter.js';
import '../../_common/js/utils/set-style.js';
import '../../_common/js/utils/helper.js';
import '../../_chunks/dep-8ff4a741.js';
import '../../loading/defaultProps.js';
import '../../loading/plugin.js';
import '../../loading/style/index.js';
import '../../loading/type.js';
import '../../tooltip/Tooltip.js';
import '../../popup/index.js';
import '../../popup/Popup.js';
import 'react-transition-group';
import 'react-popper';
import '../../hooks/useControlled.js';
import '../../_chunks/dep-0db6b692.js';
import '../../_chunks/dep-6d2697ef.js';
import '../../_chunks/dep-42701b6c.js';
import '../../_chunks/dep-e8f6f682.js';
import '../../_chunks/dep-863396c0.js';
import '../../_util/noop.js';
import '../../_util/composeRefs.js';
import '../../popup/hooks/useTriggerProps.js';
import '../../_util/useClickOutside.js';
import '../../popup/utils/getTransitionParams.js';
import '../../_util/useMutationObserver.js';
import '../../_chunks/dep-0a541e21.js';
import '../../_chunks/dep-5ed520e8.js';
import '../../_util/useWindowSize.js';
import '../../popup/defaultProps.js';
import '../../popup/style/index.js';
import '../../popup/type.js';
import '../../tooltip/defaultProps.js';
import '../../_chunks/dep-6a955d55.js';
import '../../_util/forwardRefWithStatics.js';
import 'hoist-non-react-statics';
import '../../common/Check.js';
import '../../_util/helper.js';
import '../../_chunks/dep-9be29560.js';
import '../../checkbox/defaultProps.js';

var Panel = function Panel(props) {
  var _props$cascaderContex = props.cascaderContext,
      filterActive = _props$cascaderContex.filterActive,
      treeNodes = _props$cascaderContex.treeNodes,
      inputWidth = _props$cascaderContex.inputWidth,
      cascaderContext = props.cascaderContext,
      empty = props.empty;
  var panels = useMemo(function () {
    return getPanels(treeNodes);
  }, [treeNodes]);

  var handleExpand = function handleExpand(ctx, trigger) {
    var node = ctx.node;
    var propsTrigger = props.trigger,
        cascaderContext2 = props.cascaderContext;
    expendClickEffect(propsTrigger, trigger, node, cascaderContext2);
  };

  var handleChange = function handleChange(ctx) {
    var node = ctx.node;
    valueChangeEffect(node, cascaderContext);
  };

  var _useConfig = useConfig(),
      classPrefix = _useConfig.classPrefix;

  var name = "".concat(classPrefix, "-cascader");
  var renderEmpty = /* @__PURE__ */React.createElement("div", {
    className: "".concat(name, "__panel--empty")
  }, empty);

  var renderItem = function renderItem(node, index) {
    return /* @__PURE__ */React.createElement(Item, {
      key: index,
      node: node,
      cascaderContext: cascaderContext,
      onClick: function onClick(ctx) {
        handleExpand(ctx, "click");
      },
      onMouseEnter: function onMouseEnter(ctx) {
        handleExpand(ctx, "hover");
      },
      onChange: handleChange
    });
  };

  var panelsContainer = panels.map(function (panel, index) {
    return /* @__PURE__ */React.createElement("ul", {
      className: classNames("".concat(name, "__menu"), "narrow-scrollbar", _defineProperty({}, "".concat(name, "__menu--segment"), index !== panels.length - 1)),
      key: index
    }, panel.map(function (node, index2) {
      return renderItem(node, index2);
    }));
  });
  var filterPanelsContainer = /* @__PURE__ */React.createElement("ul", {
    className: classNames("".concat(name, "__menu"), "narrow-scrollbar", "".concat(name, "__menu--segment"), "".concat(name, "__menu--filter"))
  }, treeNodes.map(function (node, index) {
    return renderItem(node, index);
  }));
  var renderPanels = filterActive ? filterPanelsContainer : panelsContainer;
  return /* @__PURE__ */React.createElement("div", {
    className: classNames("".concat(name, "__panel"), _defineProperty({}, "".concat(name, "--normal"), panels.length)),
    style: {
      width: panels.length === 0 ? "".concat(inputWidth, "px") : null
    }
  }, panels && panels.length ? renderPanels : renderEmpty);
};

export { Panel as default };
//# sourceMappingURL=Panel.js.map
