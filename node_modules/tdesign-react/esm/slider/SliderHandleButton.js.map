{"version":3,"file":"SliderHandleButton.js","sources":["../../src/slider/SliderHandleButton.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport classNames from 'classnames';\nimport Tooltip from '../tooltip/Tooltip';\nimport { TdTooltipProps } from '../tooltip/type';\n\ninterface SliderHandleButtonProps {\n  onChange: (event: React.MouseEvent | MouseEvent) => void;\n  classPrefix: string;\n  style: React.CSSProperties;\n  toolTipProps: TdTooltipProps;\n  hideTips: boolean;\n}\n\nconst SliderHandleButton: React.FC<SliderHandleButtonProps> = ({\n  onChange,\n  style,\n  classPrefix,\n  toolTipProps,\n  hideTips,\n}) => {\n  const [popupVisible, setPopupVisible] = useState(false);\n  const [isDragging, toggleIsDragging] = useState(false);\n\n  const onSliderDragging = (e: MouseEvent) => {\n    toggleIsDragging(true);\n    onChange(e);\n  };\n\n  const onSliderDraggingEnd = () => {\n    toggleIsDragging(false);\n    window.removeEventListener('mousemove', onSliderDragging);\n    window.removeEventListener('mouseup', onSliderDraggingEnd);\n    window.removeEventListener('touchmove', onSliderDragging);\n    window.removeEventListener('touchend', onSliderDraggingEnd);\n  };\n\n  const handleSliderMouseDown = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setPopupVisible(true);\n    window.addEventListener('mousemove', onSliderDragging);\n    window.addEventListener('mouseup', onSliderDraggingEnd);\n    window.addEventListener('touchmove', onSliderDragging);\n    window.addEventListener('touchend', onSliderDraggingEnd);\n  };\n\n  const handleSliderEnter = (event: React.MouseEvent) => {\n    event.stopPropagation();\n    setPopupVisible(true);\n  };\n\n  const handleSliderLeave = (event: React.MouseEvent) => {\n    event.stopPropagation();\n    setPopupVisible(false);\n  };\n\n  const handleNode = (\n    <div\n      style={style}\n      className={`${classPrefix}-slider__button-wrapper`}\n      onMouseDown={(e) => handleSliderMouseDown(e)}\n      onMouseEnter={(e) => handleSliderEnter(e)}\n      onMouseLeave={(e) => handleSliderLeave(e)}\n    >\n      <div\n        className={classNames(`${classPrefix}-slider__button`, {\n          [`${classPrefix}-slider__button--dragging`]: isDragging,\n        })}\n      ></div>\n    </div>\n  );\n\n  return hideTips ? (\n    handleNode\n  ) : (\n    <Tooltip visible={popupVisible} placement=\"top\" {...toolTipProps}>\n      {handleNode}\n    </Tooltip>\n  );\n};\n\nexport default SliderHandleButton;\n"],"names":["SliderHandleButton","onChange","style","classPrefix","toolTipProps","hideTips","useState","popupVisible","setPopupVisible","isDragging","toggleIsDragging","onSliderDragging","e","onSliderDraggingEnd","window","removeEventListener","handleSliderMouseDown","stopPropagation","addEventListener","handleSliderEnter","event","handleSliderLeave","handleNode","React","createElement","className","onMouseDown","onMouseEnter","onMouseLeave","classNames","Tooltip","visible","placement"],"mappings":"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"}