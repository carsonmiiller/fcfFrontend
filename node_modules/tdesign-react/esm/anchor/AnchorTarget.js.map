{"version":3,"file":"AnchorTarget.js","sources":["../../src/anchor/AnchorTarget.tsx"],"sourcesContent":["import React, { FunctionComponent } from 'react';\nimport classNames from 'classnames';\nimport { FileCopyIcon } from 'tdesign-icons-react';\nimport Popup from '../popup';\nimport { MessagePlugin } from '../message';\nimport useConfig from '../_util/useConfig';\n\nimport { TdAnchorTargetProps } from './type';\nimport { StyledProps } from '../common';\nimport { copyText } from './_util/clipboard';\nimport { anchorTargetDefaultProps } from './defaultProps';\n\nexport interface AnchorTargetProps extends TdAnchorTargetProps, StyledProps {}\n\nconst AnchorTarget: FunctionComponent<AnchorTargetProps> = (props) => {\n  const { id, tag, children, className, style } = props;\n\n  const { classPrefix } = useConfig();\n\n  const tagClassName = classNames(`${classPrefix}-anchor__target`, className);\n  const iconClassName = `${classPrefix}-anchor__copy`;\n\n  const handleCopyText = () => {\n    const a = document.createElement('a');\n    a.href = `#${id}`;\n    copyText(a.href);\n    MessagePlugin.success('链接复制成功', 1000);\n  };\n\n  const Content = () => (\n    <>\n      {children}\n      <Popup content=\"复制链接\" placement=\"top\" showArrow>\n        <FileCopyIcon className={iconClassName} onClick={handleCopyText} />\n      </Popup>\n    </>\n  );\n\n  return React.createElement(tag, { id, className: tagClassName, style }, React.createElement(Content));\n};\n\nAnchorTarget.displayName = 'AnchorTarget';\nAnchorTarget.defaultProps = anchorTargetDefaultProps;\n\nexport default AnchorTarget;\n"],"names":["AnchorTarget","props","id","tag","children","className","style","useConfig","classPrefix","tagClassName","classNames","iconClassName","handleCopyText","a","document","createElement","href","copyText","MessagePlugin","success","Content","React","Fragment","Popup","content","placement","showArrow","FileCopyIcon","onClick","displayName","defaultProps","anchorTargetDefaultProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQA,IAAMA,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAW;AAC9B,EAAA,IAAQC,EAAR,GAAgDD,KAAhD,CAAQC,EAAR;AAAA,MAAYC,GAAZ,GAAgDF,KAAhD,CAAYE,GAAZ;AAAA,MAAiBC,QAAjB,GAAgDH,KAAhD,CAAiBG,QAAjB;AAAA,MAA2BC,SAA3B,GAAgDJ,KAAhD,CAA2BI,SAA3B;AAAA,MAAsCC,KAAtC,GAAgDL,KAAhD,CAAsCK,KAAtC,CAAA;;AACA,EAAA,IAAA,UAAA,GAAwBC,SAAS,EAAjC;MAAQC,WAAR,cAAQA,WAAR,CAAA;;AACA,EAAA,IAAMC,YAAY,GAAGC,UAAU,WAAIF,WAAJ,EAAA,iBAAA,CAAA,EAAkCH,SAAlC,CAA/B,CAAA;EACA,IAAMM,aAAa,GAAMH,EAAAA,CAAAA,MAAAA,CAAAA,WAAN,EAAnB,eAAA,CAAA,CAAA;;AACA,EAAA,IAAMI,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3B,IAAA,IAAMC,CAAC,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAV,CAAA;IACAF,CAAC,CAACG,IAAF,GAAA,GAAA,CAAA,MAAA,CAAad,EAAb,CAAA,CAAA;AACAe,IAAAA,QAAQ,CAACJ,CAAC,CAACG,IAAH,CAAR,CAAA;AACAE,IAAAA,aAAa,CAACC,OAAd,CAAsB,sCAAtB,EAA8D,GAA9D,CAAA,CAAA;GAJF,CAAA;;EAMA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAA;AAAA,IAAA,sBAAsBC,KAAK,CAACN,aAAN,CAAoBM,KAAK,CAACC,QAA1B,EAAoC,IAApC,EAA0ClB,QAA1C,iBAAoEiB,KAAK,CAACN,aAAN,CAAoBQ,KAApB,EAA2B;AACnIC,MAAAA,OAAO,EAAE,0BAD0H;AAEnIC,MAAAA,SAAS,EAAE,KAFwH;AAGnIC,MAAAA,SAAS,EAAE,IAAA;AAHwH,KAA3B,iBAIvFL,KAAK,CAACN,aAAN,CAAoBY,YAApB,EAAkC;AACnDtB,MAAAA,SAAS,EAAEM,aADwC;AAEnDiB,MAAAA,OAAO,EAAEhB,cAAAA;KAFQ,CAJuF,CAApE,CAAtB,CAAA;GAAhB,CAAA;;AAQA,EAAA,oBAAOS,KAAK,CAACN,aAAN,CAAoBZ,GAApB,EAAyB;AAAED,IAAAA,EAAE,EAAFA,EAAF;AAAMG,IAAAA,SAAS,EAAEI,YAAjB;AAA+BH,IAAAA,KAAK,EAALA,KAAAA;AAA/B,GAAzB,eAAiEe,KAAK,CAACN,aAAN,CAAoBK,OAApB,CAAjE,CAAP,CAAA;AACD,EApBD;;AAqBApB,YAAY,CAAC6B,WAAb,GAA2B,cAA3B,CAAA;AACA7B,YAAY,CAAC8B,YAAb,GAA4BC,wBAA5B;;;;"}