{"version":3,"file":"MessageClose.js","sources":["../../src/message/MessageClose.tsx"],"sourcesContent":["/**\n * @author kenzyyang\n * @date 2021-05-11 20:01:45\n * @desc message 关闭按钮组件\n */\nimport React from 'react';\n\nimport classNames from 'classnames';\nimport { CloseIcon } from 'tdesign-icons-react';\nimport { TdMessageProps } from './type';\nimport { useMessageClass } from './useMessageClass';\n\nexport default function MessageClose({ closeBtn, onCloseBtnClick }: TdMessageProps) {\n  const { tdMessageClassGenerator } = useMessageClass();\n\n  let relCloseBtn = closeBtn;\n  // 函数类型先执行并解出具体的内容，然后进行判断\n  if (typeof closeBtn === 'function') {\n    relCloseBtn = closeBtn();\n  }\n\n  // falseLike 类型表明不展示 close\n  if (!relCloseBtn) {\n    return null;\n  }\n\n  // 数字 字符串类型封装 span 标签\n  if (typeof relCloseBtn === 'string' || typeof relCloseBtn === 'number') {\n    return (\n      <span\n        className={tdMessageClassGenerator('close')}\n        onClick={(e) => onCloseBtnClick?.({ e })}>\n        {closeBtn}\n      </span>\n    );\n  }\n\n  // 组件或者 dom 节点 加上 close 样式\n  if (React.isValidElement(relCloseBtn)) {\n    const { onClick } = relCloseBtn.props;\n    return React.cloneElement(relCloseBtn, {\n      className: classNames(relCloseBtn.props.className, tdMessageClassGenerator('close')),\n      onClick: (e) => {\n        onClick?.(e);\n        onCloseBtnClick?.({ e });\n      },\n    });\n  }\n\n  // 否则使用默认的关闭按钮样式\n  return <CloseIcon\n    className={tdMessageClassGenerator('close')}\n    onClick={(e) => onCloseBtnClick?.({ e })}\n  />;\n}\n"],"names":["MessageClose","closeBtn","onCloseBtnClick","useMessageClass","tdMessageClassGenerator","relCloseBtn","React","createElement","className","onClick","e","isValidElement","props","cloneElement","classNames","CloseIcon"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIe,SAASA,YAAT,CAAqD,IAAA,EAAA;EAAA,IAA7BC,QAA6B,QAA7BA,QAA6B;MAAnBC,eAAmB,QAAnBA,eAAmB,CAAA;;AAClE,EAAA,IAAA,gBAAA,GAAoCC,eAAe,EAAnD;MAAQC,uBAAR,oBAAQA,uBAAR,CAAA;;EACA,IAAIC,WAAW,GAAGJ,QAAlB,CAAA;;AACA,EAAA,IAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;IAClCI,WAAW,GAAGJ,QAAQ,EAAtB,CAAA;AACD,GAAA;;EACD,IAAI,CAACI,WAAL,EAAkB;AAChB,IAAA,OAAO,IAAP,CAAA;AACD,GAAA;;EACD,IAAI,OAAOA,WAAP,KAAuB,QAAvB,IAAmC,OAAOA,WAAP,KAAuB,QAA9D,EAAwE;AACtE,IAAA,sBAAuBC,KAAK,CAACC,aAAN,CAAoB,MAApB,EAA4B;AACjDC,MAAAA,SAAS,EAAEJ,uBAAuB,CAAC,OAAD,CADe;MAEjDK,OAAO,EAAE,iBAACC,CAAD,EAAA;AAAA,QAAA,OAAOR,eAAP,KAAA,IAAA,IAAOA,eAAP,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAOA,eAAe,CAAG;AAAEQ,UAAAA,CAAC,EAADA,CAAAA;AAAF,SAAH,CAAtB,CAAA;AAAA,OAAA;KAFY,EAGpBT,QAHoB,CAAvB,CAAA;AAID,GAAA;;AACD,EAAA,kBAAIK,KAAK,CAACK,cAAN,CAAqBN,WAArB,CAAJ,EAAuC;AACrC,IAAA,IAAQI,QAAR,GAAoBJ,WAAW,CAACO,KAAhC,CAAQH,OAAR,CAAA;AACA,IAAA,oBAAOH,KAAK,CAACO,YAAN,CAAmBR,WAAnB,EAAgC;AACrCG,MAAAA,SAAS,EAAEM,UAAU,CAACT,WAAW,CAACO,KAAZ,CAAkBJ,SAAnB,EAA8BJ,uBAAuB,CAAC,OAAD,CAArD,CADgB;MAErCK,OAAO,EAAE,SAACC,OAAAA,CAAAA,CAAD,EAAO;QACdD,QAAO,KAAA,IAAP,IAAAA,QAAO,KAAA,KAAA,CAAP,YAAAA,QAAO,CAAGC,CAAH,CAAP,CAAA;AACAR,QAAAA,eAAe,SAAf,IAAAA,eAAe,KAAf,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,eAAe,CAAG;AAAEQ,UAAAA,CAAC,EAADA,CAAAA;AAAF,SAAH,CAAf,CAAA;AACD,OAAA;AALoC,KAAhC,CAAP,CAAA;AAOD,GAAA;;AACD,EAAA,sBAAuBJ,KAAK,CAACC,aAAN,CAAoBQ,SAApB,EAA+B;AACpDP,IAAAA,SAAS,EAAEJ,uBAAuB,CAAC,OAAD,CADkB;IAEpDK,OAAO,EAAE,iBAACC,CAAD,EAAA;AAAA,MAAA,OAAOR,eAAP,KAAA,IAAA,IAAOA,eAAP,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAOA,eAAe,CAAG;AAAEQ,QAAAA,CAAC,EAADA,CAAAA;AAAF,OAAH,CAAtB,CAAA;AAAA,KAAA;AAF2C,GAA/B,CAAvB,CAAA;AAID;;;;"}