{"version":3,"file":"OptionGroup.js","sources":["../../../src/select/base/OptionGroup.tsx"],"sourcesContent":["import React, { Children, isValidElement, cloneElement } from 'react';\nimport classNames from 'classnames';\nimport useConfig from '../../_util/useConfig';\n\nimport { TdOptionGroupProps, SelectValue } from '../type';\nimport { optionGroupDefaultProps } from '../defaultProps';\n\nexport interface SelectGOptionGroupProps extends TdOptionGroupProps {\n  selectedValue?: SelectValue;\n  onSelect?: (\n    value: string | number,\n    context: { label?: React.ReactNode; selected?: boolean; event: React.MouseEvent },\n  ) => void;\n  divider?: boolean;\n  children?: React.ReactNode;\n}\n\nconst OptionGroup = (props: SelectGOptionGroupProps) => {\n  const { children, label, selectedValue, onSelect, divider } = props;\n\n  const { classPrefix } = useConfig();\n\n  const childrenWithProps = Children.map(children, (child) => {\n    if (isValidElement(child)) {\n      const addedProps = { selectedValue, onSelect };\n      return cloneElement(child, { ...addedProps });\n    }\n    return child;\n  });\n\n  return (\n    <li\n      className={classNames(`${classPrefix}-select-option-group`, {\n        [`${classPrefix}-select-option-group__divider`]: divider,\n      })}\n    >\n      <ul className={`${classPrefix}-select-option-group__header`}>{label}</ul>\n      <ul className={`${classPrefix}-select__list`}>{childrenWithProps}</ul>\n    </li>\n  );\n};\n\nOptionGroup.defaultProps = optionGroupDefaultProps;\n\nexport default OptionGroup;\n"],"names":["OptionGroup","props","children","label","selectedValue","onSelect","divider","useConfig","classPrefix","childrenWithProps","Children","map","child","isValidElement","addedProps","cloneElement","React","createElement","className","classNames","defaultProps","optionGroupDefaultProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,IAAMA,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAW;AAC7B,EAAA,IAAQC,QAAR,GAA8DD,KAA9D,CAAQC,QAAR;AAAA,MAAkBC,KAAlB,GAA8DF,KAA9D,CAAkBE,KAAlB;AAAA,MAAyBC,aAAzB,GAA8DH,KAA9D,CAAyBG,aAAzB;AAAA,MAAwCC,QAAxC,GAA8DJ,KAA9D,CAAwCI,QAAxC;AAAA,MAAkDC,OAAlD,GAA8DL,KAA9D,CAAkDK,OAAlD,CAAA;;AACA,EAAA,IAAA,UAAA,GAAwBC,SAAS,EAAjC;MAAQC,WAAR,cAAQA,WAAR,CAAA;;EACA,IAAMC,iBAAiB,GAAGC,QAAQ,CAACC,GAAT,CAAaT,QAAb,EAAuB,UAACU,KAAD,EAAW;AAC1D,IAAA,kBAAIC,cAAc,CAACD,KAAD,CAAlB,EAA2B;AACzB,MAAA,IAAME,UAAU,GAAG;AAAEV,QAAAA,aAAa,EAAbA,aAAF;AAAiBC,QAAAA,QAAQ,EAARA,QAAAA;OAApC,CAAA;AACA,MAAA,oBAAOU,YAAY,CAACH,KAAD,EAAA,aAAA,CAAA,EAAA,EAAaE,UAAb,CAAnB,CAAA,CAAA;AACD,KAAA;;AACD,IAAA,OAAOF,KAAP,CAAA;AACD,GANyB,CAA1B,CAAA;AAOA,EAAA,sBAAuBI,KAAK,CAACC,aAAN,CAAoB,IAApB,EAA0B;AAC/CC,IAAAA,SAAS,EAAEC,UAAU,CAAA,EAAA,CAAA,MAAA,CAAIX,WAAJ,EACfA,sBAAAA,CAAAA,EAAAA,eAAAA,CAAAA,EAAAA,EAAAA,EAAAA,CAAAA,MAAAA,CAAAA,WADe,oCAC8BF,OAD9B,CAAA,CAAA;AAD0B,GAA1B,iBAIJU,KAAK,CAACC,aAAN,CAAoB,IAApB,EAA0B;AAC3CC,IAAAA,SAAS,YAAKV,WAAL,EAAA,8BAAA,CAAA;GADQ,EAEhBL,KAFgB,CAJI,iBAMIa,KAAK,CAACC,aAAN,CAAoB,IAApB,EAA0B;AACnDC,IAAAA,SAAS,YAAKV,WAAL,EAAA,eAAA,CAAA;GADgB,EAExBC,iBAFwB,CANJ,CAAvB,CAAA;AASD,EAnBD;;AAoBAT,WAAW,CAACoB,YAAZ,GAA2BC,uBAA3B;;;;"}