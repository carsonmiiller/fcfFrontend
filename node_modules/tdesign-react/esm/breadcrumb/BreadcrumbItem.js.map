{"version":3,"file":"BreadcrumbItem.js","sources":["../../src/breadcrumb/BreadcrumbItem.tsx"],"sourcesContent":["import React, { forwardRef, useContext, useMemo } from 'react';\nimport classNames from 'classnames';\n\nimport { ChevronRightIcon } from 'tdesign-icons-react';\nimport useConfig from '../_util/useConfig';\nimport useCommonClassName from '../_util/useCommonClassName';\n\nimport { BreadcrumbItemProps } from './BreadcrumbProps';\nimport { BreadcrumbContext } from './BreadcrumbContext';\nimport { breadcrumbItemDefaultProps } from './defaultProps';\n\nconst BreadcrumbItem = forwardRef<HTMLDivElement, BreadcrumbItemProps>((props, ref) => {\n  const {\n    children,\n    separator,\n    disabled,\n    maxItemWidth,\n    maxWidth,\n    href,\n    to,\n    target,\n    router,\n    replace,\n    className,\n    ...restProps\n  } = props;\n\n  const { maxItemWidthInContext, separator: separatorInContext } = useContext(BreadcrumbContext);\n\n  const { classPrefix } = useConfig();\n  const commonClassNames = useCommonClassName();\n\n  const breadcrumbItemClassNames = classNames(`${classPrefix}-breadcrumb__item`);\n  const textWrapperClassName = `${classPrefix}-breadcrumb__inner`;\n  const textClassNames = classNames(`${classPrefix}-breadcrumb--text-overflow`, {\n    [commonClassNames.STATUS.disabled]: disabled,\n  });\n  const separatorClassName = `${classPrefix}-breadcrumb__separator`;\n  const linkClassName = `${classPrefix}-link`;\n\n  const maxWidthForItem = useMemo(\n    () => ({\n      maxWidth: maxWidth || maxItemWidth || maxItemWidthInContext || '120px',\n    }),\n    [maxItemWidth, maxWidth, maxItemWidthInContext],\n  );\n\n  const textContent = (\n    <span className={textWrapperClassName} style={maxWidthForItem}>\n      {children}\n    </span>\n  );\n\n  let itemContent = <span className={textClassNames}>{textContent}</span>;\n  if ((href || to) && !disabled) {\n    const handleRouting = () => {\n      if (href || !router) return;\n\n      replace ? router.replace(to) : router.push(to);\n    };\n    itemContent = (\n      <a className={classNames(textClassNames, linkClassName)} href={href} target={target} onClick={handleRouting}>\n        {textContent}\n      </a>\n    );\n  }\n\n  const separatorInProps = typeof separator === 'function' ? separator() : separator;\n  const separatorContent = separatorInProps || separatorInContext || (\n    <ChevronRightIcon style={{ color: 'rgba(0,0,0,.3)' }} />\n  );\n\n  return (\n    <div className={classNames(breadcrumbItemClassNames, className)} ref={ref} {...restProps}>\n      {itemContent}\n      <span className={separatorClassName}>{separatorContent}</span>\n    </div>\n  );\n});\n\nBreadcrumbItem.displayName = 'BreadcrumbItem';\nBreadcrumbItem.defaultProps = breadcrumbItemDefaultProps;\n\nexport default BreadcrumbItem;\n"],"names":["BreadcrumbItem","forwardRef","props","ref","children","separator","disabled","maxItemWidth","maxWidth","href","to","target","router","replace","className","restProps","useContext","BreadcrumbContext","maxItemWidthInContext","separatorInContext","useConfig","classPrefix","commonClassNames","useCommonClassName","breadcrumbItemClassNames","classNames","textWrapperClassName","textClassNames","STATUS","separatorClassName","linkClassName","maxWidthForItem","useMemo","textContent","React","createElement","style","itemContent","handleRouting","push","onClick","separatorInProps","separatorContent","ChevronRightIcon","color","displayName","defaultProps","breadcrumbItemDefaultProps"],"mappings":"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"}