{"version":3,"file":"Tag.js","sources":["../../src/tag/Tag.tsx"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport { CloseIcon } from 'tdesign-icons-react';\nimport noop from '../_util/noop';\nimport forwardRefWithStatics from '../_util/forwardRefWithStatics';\nimport useConfig from '../_util/useConfig';\nimport { StyledProps } from '../common';\nimport { TdTagProps } from './type';\nimport CheckTag from './CheckTag';\nimport { tagDefaultProps } from './defaultProps';\n\n/**\n * Tag 组件支持的属性。\n */\nexport interface TagProps extends TdTagProps, StyledProps {\n  /**\n   * 标签内容\n   */\n  children?: React.ReactNode;\n}\n\n/**\n * 标签组件\n */\nconst Tag = forwardRefWithStatics(\n  (props: TagProps, ref: React.Ref<HTMLSpanElement>) => {\n    const {\n      theme,\n      size,\n      shape,\n      variant,\n      closable,\n      maxWidth,\n      icon,\n      content,\n      onClick = noop,\n      onClose = noop,\n      className,\n      style,\n      disabled,\n      children,\n      ...otherTagProps\n    } = props;\n\n    const { classPrefix } = useConfig();\n    const tagClassPrefix = `${classPrefix}-tag`;\n\n    const sizeMap = {\n      large: `${classPrefix}-size-l`,\n      small: `${classPrefix}-size-s`,\n    };\n\n    const tagClassNames = classNames(\n      tagClassPrefix,\n      `${tagClassPrefix}--${theme}`,\n      `${tagClassPrefix}--${variant}`,\n      `${tagClassPrefix}--${size}`,\n      `${tagClassPrefix}--${shape}`,\n      {\n        [`${tagClassPrefix}--ellipsis`]: !!maxWidth,\n        [`${tagClassPrefix}--disabled`]: disabled,\n      },\n      sizeMap[size],\n      className,\n    );\n\n    /**\n     * 删除 Icon\n     */\n    const deleteIcon = (\n      <CloseIcon\n        onClick={(e) => {\n          if (disabled) return;\n          onClose({ e });\n        }}\n        className={`${tagClassPrefix}__icon-close`}\n      />\n    );\n\n    const tag: JSX.Element = (\n      <span\n        ref={ref}\n        className={tagClassNames}\n        onClick={(e) => {\n          if (disabled) return;\n          onClick({ e });\n        }}\n        style={maxWidth ? { maxWidth: typeof maxWidth === 'number' ? `${maxWidth}px` : maxWidth, ...style } : style}\n        {...otherTagProps}\n      >\n        {icon}\n        {maxWidth ? <span className={`${tagClassPrefix}--text`}>{children || content}</span> : children || content}\n        {closable && deleteIcon}\n      </span>\n    );\n\n    return tag;\n  },\n  {\n    CheckTag,\n  },\n);\n\nTag.displayName = 'Tag';\nTag.defaultProps = tagDefaultProps;\n\nexport default Tag;\n"],"names":["Tag","forwardRefWithStatics","props","ref","theme","size","shape","variant","closable","maxWidth","icon","content","onClick","noop","onClose","className","style","disabled","children","otherTagProps","useConfig","classPrefix","tagClassPrefix","sizeMap","large","small","tagClassNames","classNames","deleteIcon","React","createElement","CloseIcon","e","tag","CheckTag","displayName","defaultProps","tagDefaultProps"],"mappings":"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"}